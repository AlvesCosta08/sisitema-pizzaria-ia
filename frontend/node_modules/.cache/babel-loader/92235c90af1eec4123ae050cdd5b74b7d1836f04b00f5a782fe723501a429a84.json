{"ast":null,"code":"import _objectSpread from\"/home/codigoquatro/Documentos/pizzaria-ia/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{recomendarPizza,salvarPedido}from'../services/api';import{CARDAPIO,EXTRAS}from'../cardapio-data';// --- Tipos ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NUMERO_ATENDIMENTO='5585988978980';const PizzaRecommender=()=>{// --- Estados ---\nconst[clienteInfo,setClienteInfo]=useState({id:null,nome:'',telefone:'',endereco:''});const[showClienteForm,setShowClienteForm]=useState(true);const[messages,setMessages]=useState([]);const[inputText,setInputText]=useState('');const[loading,setLoading]=useState(false);const[carrinho,setCarrinho]=useState([]);const[showCarrinho,setShowCarrinho]=useState(false);const[pizzaToAdd,setPizzaToAdd]=useState(null);const[extrasSelecionados,setExtrasSelecionados]=useState([]);const[quantidade,setQuantidade]=useState(1);const messagesEndRef=useRef(null);// --- Efeitos e Utilit√°rios ---\nconst scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};const totalCarrinho=carrinho.reduce((sum,item)=>sum+item.precoTotal*item.quantidade,0);const totalItens=carrinho.reduce((sum,item)=>sum+item.quantidade,0);const addMessage=message=>{setMessages(prev=>[...prev,message]);};useEffect(()=>{setMessages([{id:1,text:\"Ol√°! Bem-vindo √† Pizzaria IA! üçï\\n\\nSou seu assistente virtual. Vamos come√ßar com seu cadastro para uma experi√™ncia personalizada.\",type:'bot',timestamp:new Date()}]);const carrinhoSalvo=localStorage.getItem('pizzaria-carrinho');if(carrinhoSalvo){try{setCarrinho(JSON.parse(carrinhoSalvo));}catch(e){console.error('Erro ao carregar carrinho:',e);localStorage.removeItem('pizzaria-carrinho');}}},[]);useEffect(()=>{scrollToBottom();},[messages]);useEffect(()=>{try{localStorage.setItem('pizzaria-carrinho',JSON.stringify(carrinho));}catch(e){console.error('Erro ao salvar carrinho:',e);}},[carrinho]);// --- Fun√ß√µes de Manipula√ß√£o ---\nconst handleClienteSubmit=e=>{e.preventDefault();if(clienteInfo.nome&&clienteInfo.telefone&&clienteInfo.endereco){const novoClienteId=Date.now()%10000;setClienteInfo(prev=>_objectSpread(_objectSpread({},prev),{},{id:novoClienteId}));setShowClienteForm(false);addMessage({id:Date.now(),text:\"\\u2705 **Cadastro Conclu\\xEDdo!**\\n\\nObrigado, \".concat(clienteInfo.nome,\"! Agora, como posso te ajudar? \\uD83D\\uDE0A\"),type:'bot',timestamp:new Date()});addMessage({id:Date.now()+1,type:'action',options:[{text:\"üìã Ver Card√°pio\",action:'ver_cardapio'},{text:\"üéØ Receber Recomenda√ß√£o\",action:'recomendar'},{text:\"‚ùì Ajuda\",action:'ajuda'}],timestamp:new Date()});}};// --- Fun√ß√£o principal de finaliza√ß√£o ---\nconst handleFinalizarPedido=async()=>{if(carrinho.length===0){addMessage({id:Date.now(),text:\"Seu carrinho est√° vazio.\",type:'bot',timestamp:new Date()});return;}if(clienteInfo.id===null){addMessage({id:Date.now(),text:\"Erro: ID do cliente inv√°lido.\",type:'bot',timestamp:new Date()});return;}setLoading(true);addMessage({id:Date.now(),text:\"Processando seu pedido... üçï\",type:'bot',timestamp:new Date()});try{const promises=carrinho.flatMap(item=>Array(item.quantidade).fill(null).map(()=>salvarPedido({cliente_id:clienteInfo.id,nome_cliente:clienteInfo.nome,telefone_cliente:clienteInfo.telefone,pizza:item.nome,extras:item.extras})));const resultados=await Promise.allSettled(promises);const todasBemSucedidas=resultados.every(r=>r.status==='fulfilled');if(todasBemSucedidas){addMessage({id:Date.now()+1,text:\"\\u2705 **Pedido Confirmado!**\\n\\n\".concat(totalItens,\" itens \\u2022 Total: R$ \").concat(totalCarrinho.toFixed(2),\"\\n\\nSeu pedido j\\xE1 est\\xE1 no nosso sistema!\"),type:'bot',timestamp:new Date()});setCarrinho([]);setShowCarrinho(false);localStorage.removeItem('pizzaria-carrinho');}else{const erros=resultados.filter(r=>r.status==='rejected').map(r=>r.reason.message||'Erro');console.error('Erros ao salvar:',erros);addMessage({id:Date.now()+1,text:\"\\u26A0\\uFE0F Erro ao salvar: \".concat(erros[0]),type:'bot',timestamp:new Date()});}}catch(e){console.error('Erro geral:',e);addMessage({id:Date.now()+1,text:\"\\u274C Erro: \".concat(e.message||'Erro desconhecido'),type:'bot',timestamp:new Date()});}finally{setLoading(false);}};const handleWhatsAppClick=()=>{const numeroLimpo=NUMERO_ATENDIMENTO.replace(/\\D/g,'');let mensagem=\"Ol\\xE1! Gostaria de confirmar meu pedido:\\n\\n\";carrinho.forEach(item=>{mensagem+=\"\\u2022 \".concat(item.quantidade,\"x \").concat(item.nome);if(item.extras.length>0){mensagem+=\" (Extras: \".concat(item.extras.join(', '),\")\");}mensagem+=\" - R$ \".concat((item.precoTotal*item.quantidade).toFixed(2),\"\\n\");});mensagem+=\"\\n\\uD83D\\uDCB0 **Total: R$ \".concat(totalCarrinho.toFixed(2),\"**\\n\");mensagem+=\"\\uD83D\\uDC64 **Cliente:** \".concat(clienteInfo.nome,\"\\n\");mensagem+=\"\\uD83D\\uDCDE **Telefone:** \".concat(clienteInfo.telefone,\"\\n\");mensagem+=\"\\uD83D\\uDCCD **Endere\\xE7o:** \".concat(clienteInfo.endereco,\"\\n\\n\");mensagem+=\"Pedido realizado via Pizzaria IA \\uD83C\\uDF55\";window.open(\"https://wa.me/\".concat(numeroLimpo,\"?text=\").concat(encodeURIComponent(mensagem)),'_blank');};// --- Fun√ß√µes do Chat ---\nconst handleOptionClick=async action=>{setLoading(true);addMessage({id:Date.now(),text:action.replace(/_/g,' '),type:'user',timestamp:new Date()});if(action==='ver_cardapio'){addMessage({id:Date.now()+1,text:\"Aqui est√° nosso card√°pio completo...\",type:'bot',timestamp:new Date()});// Tipar corretamente as mensagens do card√°pio\nconst cardapioMessages=Object.entries(CARDAPIO).map((_ref,i)=>{let[nome,info]=_ref;return{id:Date.now()+i+100,type:'cardapio',// Agora √© um tipo v√°lido\ntimestamp:new Date(),pizza:{nome,ingredientes:info.ingredientes,preco:info.preco},options:[{text:\"Adicionar\",action:\"adicionar_\".concat(nome)}]};});setMessages(prev=>[...prev,...cardapioMessages]);}else if(action==='recomendar'){try{const resp=await recomendarPizza(clienteInfo.id||1);if(!resp.erro){addMessage({id:Date.now()+1,text:\"\\uD83C\\uDFAF **Recomenda\\xE7\\xE3o Especial!**\\n\\n**\".concat(resp.pizza_recomendada,\"**\\n\").concat(resp.motivo,\"\\n\\nIngredientes: \").concat(resp.ingredientes.join(', ')),type:'bot',timestamp:new Date()});addMessage({id:Date.now()+2,type:'action',options:[{text:\"Adicionar Recomenda√ß√£o\",action:\"adicionar_\".concat(resp.pizza_recomendada)},{text:\"Ver Card√°pio\",action:'ver_cardapio'}],timestamp:new Date()});}else{addMessage({id:Date.now()+1,text:\"Erro: \".concat(resp.detalhe),type:'bot',timestamp:new Date()});}}catch(e){addMessage({id:Date.now()+1,text:\"Erro ao conectar com o sistema.\",type:'bot',timestamp:new Date()});}}else if(action.startsWith('adicionar_')){const nomePizza=action.replace('adicionar_','');const infoPizza=CARDAPIO[nomePizza];if(infoPizza){setPizzaToAdd({nome:nomePizza,preco:infoPizza.preco});setExtrasSelecionados([]);setQuantidade(1);}}else if(action==='ver_carrinho'){setShowCarrinho(true);}else if(action==='finalizar_pedido'){handleFinalizarPedido();// Chama a fun√ß√£o principal\n}else if(action==='limpar_carrinho'){setCarrinho([]);setShowCarrinho(false);localStorage.removeItem('pizzaria-carrinho');addMessage({id:Date.now()+1,text:\"Carrinho limpo!\",type:'bot',timestamp:new Date()});}else if(action==='continuar_comprando'){setShowCarrinho(false);}else if(action==='ajuda'){addMessage({id:Date.now()+1,text:\"**Como posso ajudar?**\\n\\n‚Ä¢ **Ver Card√°pio**\\n‚Ä¢ **Recomenda√ß√£o**\\n‚Ä¢ **Carrinho**\\n‚Ä¢ **Digite**\",type:'bot',timestamp:new Date()});}setLoading(false);};const handleAdicionarAoCarrinho=()=>{if(!pizzaToAdd)return;const precoExtras=extrasSelecionados.reduce((sum,e)=>sum+(EXTRAS[e]||0),0);const precoTotal=pizzaToAdd.preco+precoExtras;const itemExistenteIndex=carrinho.findIndex(item=>item.nome===pizzaToAdd.nome&&JSON.stringify(item.extras)===JSON.stringify(extrasSelecionados));if(itemExistenteIndex>-1){const novoCarrinho=[...carrinho];novoCarrinho[itemExistenteIndex].quantidade+=quantidade;setCarrinho(novoCarrinho);}else{const novoItem={id:Date.now(),nome:pizzaToAdd.nome,precoBase:pizzaToAdd.preco,extras:[...extrasSelecionados],precoTotal:precoTotal,quantidade:quantidade};setCarrinho(prev=>[...prev,novoItem]);}setPizzaToAdd(null);setExtrasSelecionados([]);setQuantidade(1);addMessage({id:Date.now(),text:\"\\u2705 \".concat(quantidade,\"x \").concat(pizzaToAdd.nome,\" adicionada ao carrinho!\"),type:'system',timestamp:new Date()});};const handleRemoverDoCarrinho=id=>setCarrinho(prev=>prev.filter(item=>item.id!==id));const handleAtualizarQuantidade=(id,novaQuantidade)=>{if(novaQuantidade<1)return handleRemoverDoCarrinho(id);setCarrinho(prev=>prev.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{quantidade:novaQuantidade}):item));};const handleSendMessage=async()=>{if(!inputText.trim()||loading)return;const userMessage={id:Date.now(),text:inputText,type:'user',timestamp:new Date()};addMessage(userMessage);setInputText('');setLoading(true);const lowerText=inputText.toLowerCase();const respostas={saudacao:()=>[{id:Date.now()+1,text:\"Ol\\xE1 \".concat(clienteInfo.nome,\"! \\uD83D\\uDE0A Como posso te ajudar?\"),type:'bot',timestamp:new Date()},{id:Date.now()+2,type:'action',options:[{text:\"üìã Card√°pio\",action:'ver_cardapio'},{text:\"üéØ Recomenda√ß√£o\",action:'recomendar'},{text:\"\\uD83D\\uDED2 Carrinho (\".concat(totalItens,\")\"),action:'ver_carrinho'}],timestamp:new Date()}],cardapio:()=>handleOptionClick('ver_cardapio'),recomendar:()=>handleOptionClick('recomendar'),carrinho:()=>handleOptionClick('ver_carrinho'),obrigado:()=>addMessage({id:Date.now()+1,text:\"De nada, \".concat(clienteInfo.nome,\"! \\uD83D\\uDE0A\"),type:'bot',timestamp:new Date()}),preco:()=>addMessage({id:Date.now()+1,text:\"Temos pizzas a partir de R$ 25,00!\",type:'bot',timestamp:new Date()}),ajuda:()=>addMessage({id:Date.now()+1,text:\"Desculpe, n√£o entendi. Aqui est√£o as op√ß√µes:\",type:'bot',timestamp:new Date()})};if(showClienteForm){addMessage({id:Date.now()+1,text:\"Por favor, complete seu cadastro primeiro! üòä\",type:'bot',timestamp:new Date()});}else if(/(ol√°|oi|ola|bom dia|boa tarde|boa noite)/i.test(lowerText)){// Tipar corretamente o array retornado\nconst msgs=respostas.saudacao();msgs.forEach(addMessage);// Agora o forEach √© seguro\n}else if(/(card√°pio|cardapio|menu|op√ß√µes|o que tem|pizzas)/i.test(lowerText)){respostas.cardapio();}else if(/(recomendar|sugerir|sugira|qual pizza|n√£o sei|indica)/i.test(lowerText)){respostas.recomendar();}else if(/(carrinho|pedido|meu pedido|itens)/i.test(lowerText)){respostas.carrinho();}else if(/(obrigado|obrigada|valeu)/i.test(lowerText)){respostas.obrigado();}else if(/(pre√ßo|preco|quanto custa|valor)/i.test(lowerText)){respostas.preco();}else{respostas.ajuda();addMessage({id:Date.now()+2,type:'action',options:[{text:\"üìã Ver Card√°pio\",action:'ver_cardapio'},{text:\"üéØ Recomenda√ß√£o\",action:'recomendar'},{text:\"\\uD83D\\uDED2 Carrinho (\".concat(totalItens,\")\"),action:'ver_carrinho'},{text:\"‚ùì Ajuda\",action:'ajuda'}],timestamp:new Date()});}setLoading(false);};// --- Renderiza√ß√£o ---\nreturn/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.whatsappHeader}),showClienteForm?/*#__PURE__*/_jsx(\"form\",{onSubmit:handleClienteSubmit,style:styles.clienteForm,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.formContainer,children:[/*#__PURE__*/_jsx(\"h4\",{style:styles.formTitle,children:\"Cadastro do Cliente\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nome completo\",value:clienteInfo.nome,onChange:e=>setClienteInfo(_objectSpread(_objectSpread({},clienteInfo),{},{nome:e.target.value})),style:styles.input,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:\"Telefone (ex: 11 99999-9999)\",value:clienteInfo.telefone,onChange:e=>setClienteInfo(_objectSpread(_objectSpread({},clienteInfo),{},{telefone:e.target.value})),style:styles.input,required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Endere\\xE7o completo para entrega\",value:clienteInfo.endereco,onChange:e=>setClienteInfo(_objectSpread(_objectSpread({},clienteInfo),{},{endereco:e.target.value})),style:_objectSpread(_objectSpread({},styles.input),{},{minHeight:'80px',resize:'none'}),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.confirmButton,children:\"Come\\xE7ar a Pedir\"})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.chatArea,children:[messages.map(msg=>/*#__PURE__*/_jsx(ChatMessage,{message:msg,onOptionClick:handleOptionClick},msg.id)),loading&&/*#__PURE__*/_jsx(\"div\",{style:styles.loading,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.typingIndicator,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.typingDot}),/*#__PURE__*/_jsx(\"div\",{style:styles.typingDot}),/*#__PURE__*/_jsx(\"div\",{style:styles.typingDot})]})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),showCarrinho&&/*#__PURE__*/_jsxs(\"div\",{style:styles.carrinhoArea,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.carrinhoHeader,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCarrinho(false),style:styles.backButton,children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"h4\",{style:styles.carrinhoTitulo,children:\"Seu Carrinho\"})]}),carrinho.length===0?/*#__PURE__*/_jsxs(\"div\",{style:styles.carrinhoVazio,children:[/*#__PURE__*/_jsx(\"p\",{style:styles.carrinhoVazioText,children:\"Seu carrinho est\\xE1 vazio\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCarrinho(false),style:styles.continuarButton,children:\"Ver Card\\xE1pio\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:styles.carrinhoItens,children:carrinho.map(item=>/*#__PURE__*/_jsxs(\"div\",{style:styles.itemCarrinho,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.itemInfo,children:[/*#__PURE__*/_jsx(\"strong\",{style:styles.itemNome,children:item.nome}),/*#__PURE__*/_jsxs(\"div\",{style:styles.itemDetails,children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"R$ \",item.precoBase.toFixed(2)]}),item.extras.length>0&&/*#__PURE__*/_jsxs(\"span\",{style:styles.itemExtras,children:[\"+ \",item.extras.join(', ')]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.quantidadeContainer,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAtualizarQuantidade(item.id,item.quantidade-1),style:styles.quantidadeButton,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{style:styles.quantidadeText,children:item.quantidade}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAtualizarQuantidade(item.id,item.quantidade+1),style:styles.quantidadeButton,children:\"+\"})]}),/*#__PURE__*/_jsxs(\"strong\",{style:styles.itemTotal,children:[\"R$ $\",(item.precoTotal*item.quantidade).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoverDoCarrinho(item.id),style:styles.removerButton,children:\"\\uD83D\\uDDD1\\uFE0F\"})]},item.id))}),/*#__PURE__*/_jsx(\"div\",{style:styles.totalCarrinho,children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total: R$ \",totalCarrinho.toFixed(2)]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.carrinhoBotoes,children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleFinalizarPedido,style:_objectSpread(_objectSpread({},styles.whatsappButton),{},{backgroundColor:loading?'#ccc':'#25d366'}),disabled:loading,children:loading?'Salvando...':'‚úÖ Confirmar Pedido'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleOptionClick('limpar_carrinho'),style:styles.limparButton,children:\"Limpar Carrinho\"})]})]})]}),!showCarrinho&&carrinho.length>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCarrinho(true),style:styles.floatingCarrinhoButton,children:[\"\\uD83D\\uDED2 \",totalItens,\" itens \\u2022 R$ \",totalCarrinho.toFixed(2)]}),pizzaToAdd&&/*#__PURE__*/_jsx(\"div\",{style:styles.modalOverlay,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.modalContent,children:[/*#__PURE__*/_jsx(\"h4\",{style:styles.modalTitulo,children:pizzaToAdd.nome}),/*#__PURE__*/_jsxs(\"p\",{style:styles.modalPreco,children:[\"R$ \",pizzaToAdd.preco.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.quantidadeSection,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.quantidadeLabel,children:\"Quantidade:\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.quantidadeContainer,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantidade(Math.max(1,quantidade-1)),style:styles.quantidadeButton,children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{style:styles.quantidadeText,children:quantidade}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setQuantidade(quantidade+1),style:styles.quantidadeButton,children:\"+\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.extrasSection,children:[/*#__PURE__*/_jsx(\"h5\",{style:styles.extrasTitulo,children:\"Extras:\"}),Object.entries(EXTRAS).map(_ref2=>{let[extra,preco]=_ref2;return/*#__PURE__*/_jsxs(\"label\",{style:styles.extraLabel,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:extrasSelecionados.includes(extra),onChange:e=>{if(e.target.checked)setExtrasSelecionados(prev=>[...prev,extra]);else setExtrasSelecionados(prev=>prev.filter(e=>e!==extra));},style:styles.checkbox}),extra,\" (+R$ \",preco.toFixed(2),\")\"]},extra);})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.modalTotal,children:[\"Total: R$ \",((pizzaToAdd.preco+extrasSelecionados.reduce((sum,e)=>sum+(EXTRAS[e]||0),0))*quantidade).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.modalButtons,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPizzaToAdd(null),style:styles.cancelarButton,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAdicionarAoCarrinho,style:styles.adicionarButton,children:\"Adicionar\"})]})]})}),!showCarrinho&&/*#__PURE__*/_jsxs(\"div\",{style:styles.inputArea,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputText,onChange:e=>setInputText(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleSendMessage(),placeholder:\"Digite uma mensagem...\",style:styles.input,disabled:loading}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,style:_objectSpread(_objectSpread({},styles.sendButton),{},{opacity:loading?0.6:1,cursor:loading?'not-allowed':'pointer'}),disabled:loading,children:loading?'‚è≥':'‚Üë'})]})]})]});};// --- Componente de Mensagem ---\nconst ChatMessage=_ref3=>{var _message$text;let{message,onOptionClick}=_ref3;const isUser=message.type==='user';const isSystem=message.type==='system';const isCardapio=message.type==='cardapio';const isAction=message.type==='action';if(isCardapio&&message.pizza){return/*#__PURE__*/_jsx(\"div\",{style:styles.cardapioMessage,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.cardapioContent,children:[/*#__PURE__*/_jsx(\"strong\",{style:styles.pizzaNome,children:message.pizza.nome}),/*#__PURE__*/_jsx(\"div\",{style:styles.pizzaIngredientes,children:message.pizza.ingredientes}),/*#__PURE__*/_jsxs(\"div\",{style:styles.cardapioFooter,children:[/*#__PURE__*/_jsxs(\"strong\",{style:styles.pizzaPreco,children:[\"R$ \",message.pizza.preco.toFixed(2)]}),message.options&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onOptionClick(message.options[0].action),style:styles.cardapioButton,children:\"Adicionar\"})]})]})});}if(isAction&&message.options){return/*#__PURE__*/_jsx(\"div\",{style:styles.actionMessage,children:message.options.map((opt,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>onOptionClick(opt.action),style:styles.actionButton,children:opt.text},i))});}if(isSystem){return/*#__PURE__*/_jsx(\"div\",{style:styles.systemMessage,children:/*#__PURE__*/_jsx(\"div\",{style:styles.systemBubble,children:message.text})});}return/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.messageContainer),{},{justifyContent:isUser?'flex-end':'flex-start'}),children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.messageBubble),isUser?styles.userBubble:styles.botBubble),children:(_message$text=message.text)===null||_message$text===void 0?void 0:_message$text.split('\\n').map((line,i)=>/*#__PURE__*/_jsxs(\"span\",{children:[line,/*#__PURE__*/_jsx(\"br\",{})]},i))})});};// --- Estilos CSS em JS - Estilo WhatsApp ---\nconst styles={container:{fontFamily:\"'Segoe UI', Helvetica, Arial, sans-serif\",padding:'0',height:'100%',display:'flex',flexDirection:'column',backgroundColor:'#e5ddd5',backgroundImage:'url(\"image/svg+xml,%3Csvg width=\\'100\\' height=\\'100\\' viewBox=\\'0 0 100 100\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cpath d=\\'M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z\\' fill=\\'%239C92AC\\' fill-opacity=\\'0.05\\' fill-rule=\\'evenodd\\'/%3E%3C/svg%3E\")',position:'relative'},whatsappHeader:{backgroundColor:'#075e54',padding:'16px',color:'white',boxShadow:'0 1px 3px rgba(0,0,0,0.3)'},headerInfo:{display:'flex',alignItems:'center',gap:'12px'},avatar:{width:'40px',height:'40px',borderRadius:'50%',backgroundColor:'#25d366',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'20px'},headerText:{flex:1},headerTitle:{fontSize:'16px',fontWeight:'bold'},headerStatus:{fontSize:'12px',opacity:0.8},clienteForm:{flex:1,display:'flex',flexDirection:'column',justifyContent:'center',padding:'20px'},formContainer:{backgroundColor:'white',padding:'24px',borderRadius:'8px',boxShadow:'0 2px 8px rgba(0,0,0,0.1)'},formTitle:{margin:'0 0 20px 0',fontSize:'20px',fontWeight:'bold',color:'#075e54',textAlign:'center'},input:{width:'100%',padding:'12px',border:'1px solid #ddd',borderRadius:'8px',fontSize:'14px',marginBottom:'12px',boxSizing:'border-box',outline:'none',transition:'border-color 0.2s'},confirmButton:{width:'100%',padding:'14px',backgroundColor:'#25d366',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',cursor:'pointer',fontWeight:'bold',transition:'background-color 0.2s'},chatArea:{flex:1,overflowY:'auto',padding:'16px',display:'flex',flexDirection:'column',gap:'8px'},messageContainer:{display:'flex',marginBottom:'8px'},messageBubble:{maxWidth:'70%',padding:'8px 12px',borderRadius:'8px',fontSize:'14px',lineHeight:'1.4',wordWrap:'break-word'},userBubble:{backgroundColor:'#dcf8c6',borderTopRightRadius:'2px'},botBubble:{backgroundColor:'white',borderTopLeftRadius:'2px',boxShadow:'0 1px 2px rgba(0,0,0,0.1)'},systemMessage:{display:'flex',justifyContent:'center',marginBottom:'8px'},systemBubble:{backgroundColor:'rgba(0,0,0,0.1)',color:'#666',padding:'6px 12px',borderRadius:'12px',fontSize:'12px',maxWidth:'80%',textAlign:'center'},cardapioMessage:{display:'flex',justifyContent:'flex-start',marginBottom:'8px'},cardapioContent:{backgroundColor:'white',padding:'12px',borderRadius:'8px',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',maxWidth:'80%'},pizzaNome:{display:'block',fontSize:'14px',fontWeight:'bold',marginBottom:'4px'},pizzaIngredientes:{fontSize:'12px',color:'#666',marginBottom:'8px'},pizzaPreco:{color:'#25d366',fontSize:'14px'},cardapioFooter:{display:'flex',justifyContent:'space-between',alignItems:'center'},cardapioButton:{padding:'6px 12px',backgroundColor:'#25d366',color:'white',border:'none',borderRadius:'16px',fontSize:'12px',cursor:'pointer'},actionMessage:{display:'flex',justifyContent:'center',gap:'8px',marginBottom:'8px',flexWrap:'wrap'},actionButton:{padding:'8px 16px',backgroundColor:'white',color:'#075e54',border:'1px solid #075e54',borderRadius:'18px',fontSize:'12px',cursor:'pointer',transition:'all 0.2s'},loading:{display:'flex',justifyContent:'flex-start',marginBottom:'8px'},typingIndicator:{backgroundColor:'white',padding:'12px 16px',borderRadius:'8px',display:'flex',gap:'4px',alignItems:'center'},typingDot:{width:'6px',height:'6px',backgroundColor:'#999',borderRadius:'50%',animation:'typing 1.4s infinite ease-in-out'},carrinhoArea:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'white',zIndex:10,display:'flex',flexDirection:'column'},carrinhoHeader:{display:'flex',alignItems:'center',padding:'16px',backgroundColor:'#075e54',color:'white',gap:'12px'},backButton:{background:'none',border:'none',color:'white',fontSize:'18px',cursor:'pointer',padding:'4px'},carrinhoTitulo:{margin:0,fontSize:'18px',fontWeight:'bold'},carrinhoItens:{flex:1,overflowY:'auto',padding:'16px'},itemCarrinho:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',padding:'12px 0',borderBottom:'1px solid #f0f0f0',gap:'12px'},itemInfo:{flex:1},itemNome:{display:'block',fontSize:'14px',marginBottom:'4px'},itemDetails:{fontSize:'12px',color:'#666',marginBottom:'8px'},itemExtras:{fontSize:'11px',color:'#25d366'},itemTotal:{color:'#075e54',fontSize:'14px'},quantidadeContainer:{display:'flex',alignItems:'center',gap:'8px',margin:'8px 0'},quantidadeButton:{width:'24px',height:'24px',borderRadius:'50%',border:'1px solid #075e54',backgroundColor:'white',color:'#075e54',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'12px'},quantidadeText:{padding:'0 8px',fontWeight:'bold',minWidth:'20px',textAlign:'center'},removerButton:{padding:'6px',backgroundColor:'transparent',color:'#ff4444',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'14px'},carrinhoVazio:{flex:1,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',padding:'40px'},carrinhoVazioText:{color:'#666',marginBottom:'16px',textAlign:'center'},continuarButton:{padding:'12px 24px',backgroundColor:'#25d366',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',fontWeight:'bold'},totalCarrinho:{padding:'16px',borderTop:'2px solid #f0f0f0',textAlign:'center',fontWeight:'bold',fontSize:'16px',color:'#075e54'},carrinhoBotoes:{padding:'16px',display:'flex',flexDirection:'column',gap:'8px'},whatsappButton:{padding:'14px',backgroundColor:'#25d366',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',fontWeight:'bold',fontSize:'14px'},limparButton:{padding:'12px',backgroundColor:'transparent',color:'#ff4444',border:'1px solid #ff4444',borderRadius:'8px',cursor:'pointer',fontSize:'14px'},floatingCarrinhoButton:{position:'absolute',bottom:'80px',right:'16px',padding:'12px 16px',backgroundColor:'#25d366',color:'white',border:'none',borderRadius:'24px',cursor:'pointer',fontWeight:'bold',boxShadow:'0 2px 8px rgba(0,0,0,0.3)',zIndex:5,fontSize:'14px'},modalOverlay:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:20,padding:'16px'},modalContent:{backgroundColor:'white',padding:'20px',borderRadius:'12px',width:'100%',maxWidth:'400px',maxHeight:'80vh',overflowY:'auto',boxShadow:'0 4px 20px rgba(0,0,0,0.3)'},modalTitulo:{margin:'0 0 8px 0',fontSize:'18px',fontWeight:'bold',color:'#075e54',textAlign:'center'},modalPreco:{textAlign:'center',fontSize:'16px',color:'#25d366',fontWeight:'bold',marginBottom:'16px'},quantidadeSection:{marginBottom:'16px',textAlign:'center'},quantidadeLabel:{display:'block',marginBottom:'8px',fontWeight:'bold',color:'#333'},extrasSection:{marginBottom:'16px'},extrasTitulo:{margin:'0 0 12px 0',fontSize:'14px',fontWeight:'bold',color:'#333'},extraLabel:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'8px',padding:'8px',borderRadius:'6px',backgroundColor:'#f8f9fa',cursor:'pointer',fontSize:'14px'},checkbox:{margin:0},modalTotal:{textAlign:'center',padding:'12px 0',borderTop:'1px solid #e0e0e0',marginTop:'12px',fontSize:'16px',fontWeight:'bold',color:'#075e54'},modalButtons:{display:'flex',gap:'12px',marginTop:'16px'},cancelarButton:{flex:1,padding:'12px',backgroundColor:'#666',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',fontSize:'14px'},adicionarButton:{flex:2,padding:'12px',backgroundColor:'#25d366',color:'white',border:'none',borderRadius:'8px',cursor:'pointer',fontSize:'14px',fontWeight:'bold'},inputArea:{display:'flex',gap:'8px',padding:'12px',backgroundColor:'#f0f0f0',borderTop:'1px solid #ddd'},sendButton:{padding:'12px 16px',backgroundColor:'#25d366',color:'white',border:'none',borderRadius:'50%',cursor:'pointer',minWidth:'44px',height:'44px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'16px'}};// Adicionar anima√ß√£o de typing\nconst style=document.createElement('style');style.textContent=\"\\n  @keyframes typing {\\n    0%, 60%, 100% { transform: translateY(0); }\\n    30% { transform: translateY(-4px); }\\n  }\\n  \\n  @keyframes spin {\\n    0% { transform: rotate(0deg); }\\n    100% { transform: rotate(360deg); }\\n  }\\n  \\n  .typing-dot:nth-child(1) { animation-delay: 0s; }\\n  .typing-dot:nth-child(2) { animation-delay: 0.2s; }\\n  .typing-dot:nth-child(3) { animation-delay: 0.4s; }\\n\";document.head.appendChild(style);export default PizzaRecommender;","map":{"version":3,"names":["React","useState","useEffect","useRef","recomendarPizza","salvarPedido","CARDAPIO","EXTRAS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NUMERO_ATENDIMENTO","PizzaRecommender","clienteInfo","setClienteInfo","id","nome","telefone","endereco","showClienteForm","setShowClienteForm","messages","setMessages","inputText","setInputText","loading","setLoading","carrinho","setCarrinho","showCarrinho","setShowCarrinho","pizzaToAdd","setPizzaToAdd","extrasSelecionados","setExtrasSelecionados","quantidade","setQuantidade","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","totalCarrinho","reduce","sum","item","precoTotal","totalItens","addMessage","message","prev","text","type","timestamp","Date","carrinhoSalvo","localStorage","getItem","JSON","parse","e","console","error","removeItem","setItem","stringify","handleClienteSubmit","preventDefault","novoClienteId","now","_objectSpread","concat","options","action","handleFinalizarPedido","length","promises","flatMap","Array","fill","map","cliente_id","nome_cliente","telefone_cliente","pizza","extras","resultados","Promise","allSettled","todasBemSucedidas","every","r","status","toFixed","erros","filter","reason","handleWhatsAppClick","numeroLimpo","replace","mensagem","forEach","join","window","open","encodeURIComponent","handleOptionClick","cardapioMessages","Object","entries","_ref","i","info","ingredientes","preco","resp","erro","pizza_recomendada","motivo","detalhe","startsWith","nomePizza","infoPizza","handleAdicionarAoCarrinho","precoExtras","itemExistenteIndex","findIndex","novoCarrinho","novoItem","precoBase","handleRemoverDoCarrinho","handleAtualizarQuantidade","novaQuantidade","handleSendMessage","trim","userMessage","lowerText","toLowerCase","respostas","saudacao","cardapio","recomendar","obrigado","ajuda","test","msgs","style","styles","container","children","whatsappHeader","onSubmit","clienteForm","formContainer","formTitle","placeholder","value","onChange","target","input","required","minHeight","resize","confirmButton","chatArea","msg","ChatMessage","onOptionClick","typingIndicator","typingDot","ref","carrinhoArea","carrinhoHeader","onClick","backButton","carrinhoTitulo","carrinhoVazio","carrinhoVazioText","continuarButton","carrinhoItens","itemCarrinho","itemInfo","itemNome","itemDetails","itemExtras","quantidadeContainer","quantidadeButton","quantidadeText","itemTotal","removerButton","carrinhoBotoes","whatsappButton","backgroundColor","disabled","limparButton","floatingCarrinhoButton","modalOverlay","modalContent","modalTitulo","modalPreco","quantidadeSection","quantidadeLabel","Math","max","extrasSection","extrasTitulo","_ref2","extra","extraLabel","checked","includes","checkbox","modalTotal","modalButtons","cancelarButton","adicionarButton","inputArea","onKeyPress","key","sendButton","opacity","cursor","_ref3","_message$text","isUser","isSystem","isCardapio","isAction","cardapioMessage","cardapioContent","pizzaNome","pizzaIngredientes","cardapioFooter","pizzaPreco","cardapioButton","actionMessage","opt","actionButton","systemMessage","systemBubble","messageContainer","justifyContent","messageBubble","userBubble","botBubble","split","line","fontFamily","padding","height","display","flexDirection","backgroundImage","position","color","boxShadow","headerInfo","alignItems","gap","avatar","width","borderRadius","fontSize","headerText","flex","headerTitle","fontWeight","headerStatus","margin","textAlign","border","marginBottom","boxSizing","outline","transition","overflowY","maxWidth","lineHeight","wordWrap","borderTopRightRadius","borderTopLeftRadius","flexWrap","animation","top","left","right","bottom","zIndex","background","borderBottom","minWidth","borderTop","maxHeight","marginTop","document","createElement","textContent","head","appendChild"],"sources":["/home/codigoquatro/Documentos/pizzaria-ia/frontend/src/components/PizzaRecommender.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { recomendarPizza, salvarPedido } from '../services/api';\nimport { CARDAPIO, EXTRAS } from '../cardapio-data';\n\n// --- Tipos ---\ntype MessageType = 'user' | 'bot' | 'system' | 'cardapio' | 'action';\n\ninterface Message {\n  id: number;\n  text?: string;\n  type: MessageType;\n  timestamp: Date;\n  pizza?: { nome: string; ingredientes: string; preco: number };\n  options?: { text: string; action: string }[];\n}\n\ninterface CarrinhoItem {\n  id: number;\n  nome: string;\n  precoBase: number;\n  extras: string[];\n  precoTotal: number;\n  quantidade: number;\n}\n\ninterface ClienteInfo {\n  id: number | null;\n  nome: string;\n  telefone: string;\n  endereco: string;\n}\n\nconst NUMERO_ATENDIMENTO = '5585988978980';\n\nconst PizzaRecommender: React.FC = () => {\n  // --- Estados ---\n  const [clienteInfo, setClienteInfo] = useState<ClienteInfo>({\n    id: null,\n    nome: '',\n    telefone: '',\n    endereco: ''\n  });\n  const [showClienteForm, setShowClienteForm] = useState(true);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputText, setInputText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [carrinho, setCarrinho] = useState<CarrinhoItem[]>([]);\n  const [showCarrinho, setShowCarrinho] = useState(false);\n  const [pizzaToAdd, setPizzaToAdd] = useState<{ nome: string; preco: number } | null>(null);\n  const [extrasSelecionados, setExtrasSelecionados] = useState<string[]>([]);\n  const [quantidade, setQuantidade] = useState(1);\n  const messagesEndRef = useRef<null | HTMLDivElement>(null);\n\n  // --- Efeitos e Utilit√°rios ---\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const totalCarrinho = carrinho.reduce((sum, item) => sum + (item.precoTotal * item.quantidade), 0);\n  const totalItens = carrinho.reduce((sum, item) => sum + item.quantidade, 0);\n\n  const addMessage = (message: Message) => {\n    setMessages(prev => [...prev, message]);\n  };\n\n  useEffect(() => {\n    setMessages([{\n      id: 1,\n      text: \"Ol√°! Bem-vindo √† Pizzaria IA! üçï\\n\\nSou seu assistente virtual. Vamos come√ßar com seu cadastro para uma experi√™ncia personalizada.\",\n      type: 'bot',\n      timestamp: new Date()\n    }]);\n    \n    const carrinhoSalvo = localStorage.getItem('pizzaria-carrinho');\n    if (carrinhoSalvo) {\n      try {\n        setCarrinho(JSON.parse(carrinhoSalvo));\n      } catch (e) {\n        console.error('Erro ao carregar carrinho:', e);\n        localStorage.removeItem('pizzaria-carrinho');\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem('pizzaria-carrinho', JSON.stringify(carrinho));\n    } catch (e) {\n      console.error('Erro ao salvar carrinho:', e);\n    }\n  }, [carrinho]);\n\n  // --- Fun√ß√µes de Manipula√ß√£o ---\n  const handleClienteSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (clienteInfo.nome && clienteInfo.telefone && clienteInfo.endereco) {\n      const novoClienteId = Date.now() % 10000;\n      setClienteInfo(prev => ({ ...prev, id: novoClienteId }));\n      setShowClienteForm(false);\n      addMessage({\n        id: Date.now(),\n        text: `‚úÖ **Cadastro Conclu√≠do!**\\n\\nObrigado, ${clienteInfo.nome}! Agora, como posso te ajudar? üòä`,\n        type: 'bot',\n        timestamp: new Date()\n      });\n      addMessage({\n        id: Date.now() + 1,\n        type: 'action',\n        options: [\n          { text: \"üìã Ver Card√°pio\", action: 'ver_cardapio' },\n          { text: \"üéØ Receber Recomenda√ß√£o\", action: 'recomendar' },\n          { text: \"‚ùì Ajuda\", action: 'ajuda' }\n        ],\n        timestamp: new Date()\n      });\n    }\n  };\n\n  // --- Fun√ß√£o principal de finaliza√ß√£o ---\n  const handleFinalizarPedido = async () => {\n    if (carrinho.length === 0) {\n      addMessage({ id: Date.now(), text: \"Seu carrinho est√° vazio.\", type: 'bot', timestamp: new Date() });\n      return;\n    }\n    if (clienteInfo.id === null) {\n      addMessage({ id: Date.now(), text: \"Erro: ID do cliente inv√°lido.\", type: 'bot', timestamp: new Date() });\n      return;\n    }\n\n    setLoading(true);\n    addMessage({ id: Date.now(), text: \"Processando seu pedido... üçï\", type: 'bot', timestamp: new Date() });\n\n    try {\n      const promises = carrinho.flatMap(item =>\n        Array(item.quantidade).fill(null).map(() =>\n          salvarPedido({\n            cliente_id: clienteInfo.id!,\n            nome_cliente: clienteInfo.nome,\n            telefone_cliente: clienteInfo.telefone,\n            pizza: item.nome,\n            extras: item.extras\n          })\n        )\n      );\n\n      const resultados = await Promise.allSettled(promises);\n      const todasBemSucedidas = resultados.every(r => r.status === 'fulfilled');\n\n      if (todasBemSucedidas) {\n        addMessage({\n          id: Date.now() + 1,\n          text: `‚úÖ **Pedido Confirmado!**\\n\\n${totalItens} itens ‚Ä¢ Total: R$ ${totalCarrinho.toFixed(2)}\\n\\nSeu pedido j√° est√° no nosso sistema!`,\n          type: 'bot',\n          timestamp: new Date()\n        });\n        setCarrinho([]);\n        setShowCarrinho(false);\n        localStorage.removeItem('pizzaria-carrinho');\n      } else {\n        const erros = resultados.filter(r => r.status === 'rejected').map(r => (r as any).reason.message || 'Erro');\n        console.error('Erros ao salvar:', erros);\n        addMessage({ id: Date.now() + 1, text: `‚ö†Ô∏è Erro ao salvar: ${erros[0]}`, type: 'bot', timestamp: new Date() });\n      }\n    } catch (e: any) {\n      console.error('Erro geral:', e);\n      addMessage({ id: Date.now() + 1, text: `‚ùå Erro: ${e.message || 'Erro desconhecido'}`, type: 'bot', timestamp: new Date() });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleWhatsAppClick = () => {\n    const numeroLimpo = NUMERO_ATENDIMENTO.replace(/\\D/g, '');\n    let mensagem = `Ol√°! Gostaria de confirmar meu pedido:\\n\\n`;\n    carrinho.forEach(item => {\n      mensagem += `‚Ä¢ ${item.quantidade}x ${item.nome}`;\n      if (item.extras.length > 0) {\n        mensagem += ` (Extras: ${item.extras.join(', ')})`;\n      }\n      mensagem += ` - R$ ${(item.precoTotal * item.quantidade).toFixed(2)}\\n`;\n    });\n    mensagem += `\\nüí∞ **Total: R$ ${totalCarrinho.toFixed(2)}**\\n`;\n    mensagem += `üë§ **Cliente:** ${clienteInfo.nome}\\n`;\n    mensagem += `üìû **Telefone:** ${clienteInfo.telefone}\\n`;\n    mensagem += `üìç **Endere√ßo:** ${clienteInfo.endereco}\\n\\n`;\n    mensagem += `Pedido realizado via Pizzaria IA üçï`;\n    window.open(`https://wa.me/${numeroLimpo}?text=${encodeURIComponent(mensagem)}`, '_blank');\n  };\n\n  // --- Fun√ß√µes do Chat ---\n  const handleOptionClick = async (action: string) => {\n    setLoading(true);\n    addMessage({ id: Date.now(), text: action.replace(/_/g, ' '), type: 'user', timestamp: new Date() });\n\n    if (action === 'ver_cardapio') {\n      addMessage({ id: Date.now() + 1, text: \"Aqui est√° nosso card√°pio completo...\", type: 'bot', timestamp: new Date() });\n      // Tipar corretamente as mensagens do card√°pio\n      const cardapioMessages: Message[] = Object.entries(CARDAPIO).map(([nome, info], i) => ({\n        id: Date.now() + i + 100,\n        type: 'cardapio', // Agora √© um tipo v√°lido\n        timestamp: new Date(),\n        pizza: { nome, ingredientes: info.ingredientes, preco: info.preco },\n        options: [{ text: \"Adicionar\", action: `adicionar_${nome}` }]\n      }));\n      setMessages(prev => [...prev, ...cardapioMessages]);\n    } \n    else if (action === 'recomendar') {\n      try {\n        const resp = await recomendarPizza(clienteInfo.id || 1);\n        if (!resp.erro) {\n          addMessage({ id: Date.now() + 1, text: `üéØ **Recomenda√ß√£o Especial!**\\n\\n**${resp.pizza_recomendada}**\\n${resp.motivo}\\n\\nIngredientes: ${resp.ingredientes.join(', ')}`, type: 'bot', timestamp: new Date() });\n          addMessage({ id: Date.now() + 2, type: 'action', options: [{ text: \"Adicionar Recomenda√ß√£o\", action: `adicionar_${resp.pizza_recomendada}` }, { text: \"Ver Card√°pio\", action: 'ver_cardapio' }], timestamp: new Date() });\n        } else {\n          addMessage({ id: Date.now() + 1, text: `Erro: ${resp.detalhe}`, type: 'bot', timestamp: new Date() });\n        }\n      } catch (e) {\n        addMessage({ id: Date.now() + 1, text: \"Erro ao conectar com o sistema.\", type: 'bot', timestamp: new Date() });\n      }\n    } \n    else if (action.startsWith('adicionar_')) {\n      const nomePizza = action.replace('adicionar_', '');\n      const infoPizza = CARDAPIO[nomePizza as keyof typeof CARDAPIO];\n      if (infoPizza) {\n        setPizzaToAdd({ nome: nomePizza, preco: infoPizza.preco });\n        setExtrasSelecionados([]);\n        setQuantidade(1);\n      }\n    } \n    else if (action === 'ver_carrinho') {\n      setShowCarrinho(true);\n    } \n    else if (action === 'finalizar_pedido') {\n      handleFinalizarPedido(); // Chama a fun√ß√£o principal\n    } \n    else if (action === 'limpar_carrinho') {\n      setCarrinho([]);\n      setShowCarrinho(false);\n      localStorage.removeItem('pizzaria-carrinho');\n      addMessage({ id: Date.now() + 1, text: \"Carrinho limpo!\", type: 'bot', timestamp: new Date() });\n    } \n    else if (action === 'continuar_comprando') {\n      setShowCarrinho(false);\n    } \n    else if (action === 'ajuda') {\n      addMessage({ id: Date.now() + 1, text: \"**Como posso ajudar?**\\n\\n‚Ä¢ **Ver Card√°pio**\\n‚Ä¢ **Recomenda√ß√£o**\\n‚Ä¢ **Carrinho**\\n‚Ä¢ **Digite**\", type: 'bot', timestamp: new Date() });\n    }\n    \n    setLoading(false);\n  };\n\n  const handleAdicionarAoCarrinho = () => {\n    if (!pizzaToAdd) return;\n    const precoExtras = extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e as keyof typeof EXTRAS] || 0), 0);\n    const precoTotal = pizzaToAdd.preco + precoExtras;\n\n    const itemExistenteIndex = carrinho.findIndex(\n      item => item.nome === pizzaToAdd.nome && JSON.stringify(item.extras) === JSON.stringify(extrasSelecionados)\n    );\n\n    if (itemExistenteIndex > -1) {\n      const novoCarrinho = [...carrinho];\n      novoCarrinho[itemExistenteIndex].quantidade += quantidade;\n      setCarrinho(novoCarrinho);\n    } else {\n      const novoItem: CarrinhoItem = {\n        id: Date.now(),\n        nome: pizzaToAdd.nome,\n        precoBase: pizzaToAdd.preco,\n        extras: [...extrasSelecionados],\n        precoTotal: precoTotal,\n        quantidade: quantidade\n      };\n      setCarrinho(prev => [...prev, novoItem]);\n    }\n\n    setPizzaToAdd(null);\n    setExtrasSelecionados([]);\n    setQuantidade(1);\n    addMessage({ id: Date.now(), text: `‚úÖ ${quantidade}x ${pizzaToAdd.nome} adicionada ao carrinho!`, type: 'system', timestamp: new Date() });\n  };\n\n  const handleRemoverDoCarrinho = (id: number) => setCarrinho(prev => prev.filter(item => item.id !== id));\n  const handleAtualizarQuantidade = (id: number, novaQuantidade: number) => {\n    if (novaQuantidade < 1) return handleRemoverDoCarrinho(id);\n    setCarrinho(prev => prev.map(item => item.id === id ? { ...item, quantidade: novaQuantidade } : item));\n  };\n\n  const handleSendMessage = async () => {\n    if (!inputText.trim() || loading) return;\n    const userMessage: Message = { id: Date.now(), text: inputText, type: 'user', timestamp: new Date() };\n    addMessage(userMessage);\n    setInputText('');\n    setLoading(true);\n\n    const lowerText = inputText.toLowerCase();\n    const respostas = {\n      saudacao: () => [\n        { id: Date.now() + 1, text: `Ol√° ${clienteInfo.nome}! üòä Como posso te ajudar?`, type: 'bot', timestamp: new Date() } as Message,\n        { id: Date.now() + 2, type: 'action', options: [{ text: \"üìã Card√°pio\", action: 'ver_cardapio' }, { text: \"üéØ Recomenda√ß√£o\", action: 'recomendar' }, { text: `üõí Carrinho (${totalItens})`, action: 'ver_carrinho' }], timestamp: new Date() } as Message\n      ],\n      cardapio: () => handleOptionClick('ver_cardapio'),\n      recomendar: () => handleOptionClick('recomendar'),\n      carrinho: () => handleOptionClick('ver_carrinho'),\n      obrigado: () => addMessage({ id: Date.now() + 1, text: `De nada, ${clienteInfo.nome}! üòä`, type: 'bot', timestamp: new Date() }),\n      preco: () => addMessage({ id: Date.now() + 1, text: \"Temos pizzas a partir de R$ 25,00!\", type: 'bot', timestamp: new Date() }),\n      ajuda: () => addMessage({ id: Date.now() + 1, text: \"Desculpe, n√£o entendi. Aqui est√£o as op√ß√µes:\", type: 'bot', timestamp: new Date() })\n    };\n\n    if (showClienteForm) {\n      addMessage({ id: Date.now() + 1, text: \"Por favor, complete seu cadastro primeiro! üòä\", type: 'bot', timestamp: new Date() });\n    } else if (/(ol√°|oi|ola|bom dia|boa tarde|boa noite)/i.test(lowerText)) {\n      // Tipar corretamente o array retornado\n      const msgs = respostas.saudacao();\n      msgs.forEach(addMessage); // Agora o forEach √© seguro\n    } else if (/(card√°pio|cardapio|menu|op√ß√µes|o que tem|pizzas)/i.test(lowerText)) {\n      respostas.cardapio();\n    } else if (/(recomendar|sugerir|sugira|qual pizza|n√£o sei|indica)/i.test(lowerText)) {\n      respostas.recomendar();\n    } else if (/(carrinho|pedido|meu pedido|itens)/i.test(lowerText)) {\n      respostas.carrinho();\n    } else if (/(obrigado|obrigada|valeu)/i.test(lowerText)) {\n      respostas.obrigado();\n    } else if (/(pre√ßo|preco|quanto custa|valor)/i.test(lowerText)) {\n      respostas.preco();\n    } else {\n      respostas.ajuda();\n      addMessage({ id: Date.now() + 2, type: 'action', options: [{ text: \"üìã Ver Card√°pio\", action: 'ver_cardapio' }, { text: \"üéØ Recomenda√ß√£o\", action: 'recomendar' }, { text: `üõí Carrinho (${totalItens})`, action: 'ver_carrinho' }, { text: \"‚ùì Ajuda\", action: 'ajuda' }], timestamp: new Date() } as Message);\n    }\n    setLoading(false);\n  };\n\n  // --- Renderiza√ß√£o ---\n  return (\n    <div style={styles.container}>\n      {/* O cabe√ßalho √© renderizado uma √∫nica vez, fora da condi√ß√£o */}\n      <div style={styles.whatsappHeader}>\n\n      </div>\n\n      {/* Conte√∫do condicional: Formul√°rio ou Chat */}\n      {showClienteForm ? (\n        <form onSubmit={handleClienteSubmit} style={styles.clienteForm}>\n          <div style={styles.formContainer}>\n            <h4 style={styles.formTitle}>Cadastro do Cliente</h4>\n            <input type=\"text\" placeholder=\"Nome completo\" value={clienteInfo.nome} onChange={(e) => setClienteInfo({ ...clienteInfo, nome: e.target.value })} style={styles.input} required />\n            <input type=\"tel\" placeholder=\"Telefone (ex: 11 99999-9999)\" value={clienteInfo.telefone} onChange={(e) => setClienteInfo({ ...clienteInfo, telefone: e.target.value })} style={styles.input} required />\n            <textarea placeholder=\"Endere√ßo completo para entrega\" value={clienteInfo.endereco} onChange={(e) => setClienteInfo({ ...clienteInfo, endereco: e.target.value })} style={{ ...styles.input, minHeight: '80px', resize: 'none' }} required />\n            <button type=\"submit\" style={styles.confirmButton}>Come√ßar a Pedir</button>\n          </div>\n        </form>\n      ) : (\n        <>\n          {/* Chat */}\n          <div style={styles.chatArea}>\n            {messages.map(msg => <ChatMessage key={msg.id} message={msg} onOptionClick={handleOptionClick} />)}\n            {loading && (\n              <div style={styles.loading}>\n                <div style={styles.typingIndicator}>\n                  <div style={styles.typingDot}></div>\n                  <div style={styles.typingDot}></div>\n                  <div style={styles.typingDot}></div>\n                </div>\n              </div>\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Carrinho */}\n          {showCarrinho && (\n            <div style={styles.carrinhoArea}>\n              <div style={styles.carrinhoHeader}>\n                <button onClick={() => setShowCarrinho(false)} style={styles.backButton}>‚Üê</button>\n                <h4 style={styles.carrinhoTitulo}>Seu Carrinho</h4>\n              </div>\n              \n              {carrinho.length === 0 ? (\n                <div style={styles.carrinhoVazio}>\n                  <p style={styles.carrinhoVazioText}>Seu carrinho est√° vazio</p>\n                  <button onClick={() => setShowCarrinho(false)} style={styles.continuarButton}>Ver Card√°pio</button>\n                </div>\n              ) : (\n                <>\n                  <div style={styles.carrinhoItens}>\n                    {carrinho.map(item => (\n                      <div key={item.id} style={styles.itemCarrinho}>\n                        <div style={styles.itemInfo}>\n                          <strong style={styles.itemNome}>{item.nome}</strong>\n                          <div style={styles.itemDetails}>\n                            <span>R$ {item.precoBase.toFixed(2)}</span>\n                            {item.extras.length > 0 && <span style={styles.itemExtras}>+ {item.extras.join(', ')}</span>}\n                          </div>\n                          <div style={styles.quantidadeContainer}>\n                            <button onClick={() => handleAtualizarQuantidade(item.id, item.quantidade - 1)} style={styles.quantidadeButton}>-</button>\n                            <span style={styles.quantidadeText}>{item.quantidade}</span>\n                            <button onClick={() => handleAtualizarQuantidade(item.id, item.quantidade + 1)} style={styles.quantidadeButton}>+</button>\n                          </div>\n                          <strong style={styles.itemTotal}>R$ ${(item.precoTotal * item.quantidade).toFixed(2)}</strong>\n                        </div>\n                        <button onClick={() => handleRemoverDoCarrinho(item.id)} style={styles.removerButton}>üóëÔ∏è</button>\n                      </div>\n                    ))}\n                  </div>\n                  <div style={styles.totalCarrinho}><strong>Total: R$ {totalCarrinho.toFixed(2)}</strong></div>\n                  <div style={styles.carrinhoBotoes}>\n                    <button onClick={handleFinalizarPedido} style={{ ...styles.whatsappButton, backgroundColor: loading ? '#ccc' : '#25d366' }} disabled={loading}>\n                      {loading ? 'Salvando...' : '‚úÖ Confirmar Pedido'}\n                    </button>\n                   \n                    <button onClick={() => handleOptionClick('limpar_carrinho')} style={styles.limparButton}>Limpar Carrinho</button>\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n\n          {/* Bot√£o flutuante do carrinho */}\n          {!showCarrinho && carrinho.length > 0 && (\n            <button onClick={() => setShowCarrinho(true)} style={styles.floatingCarrinhoButton}>\n              üõí {totalItens} itens ‚Ä¢ R$ {totalCarrinho.toFixed(2)}\n            </button>\n          )}\n\n          {/* Modal de Extras */}\n          {pizzaToAdd && (\n            <div style={styles.modalOverlay}>\n              <div style={styles.modalContent}>\n                <h4 style={styles.modalTitulo}>{pizzaToAdd.nome}</h4>\n                <p style={styles.modalPreco}>R$ {pizzaToAdd.preco.toFixed(2)}</p>\n                <div style={styles.quantidadeSection}>\n                  <label style={styles.quantidadeLabel}>Quantidade:</label>\n                  <div style={styles.quantidadeContainer}>\n                    <button onClick={() => setQuantidade(Math.max(1, quantidade - 1))} style={styles.quantidadeButton}>-</button>\n                    <span style={styles.quantidadeText}>{quantidade}</span>\n                    <button onClick={() => setQuantidade(quantidade + 1)} style={styles.quantidadeButton}>+</button>\n                  </div>\n                </div>\n                <div style={styles.extrasSection}>\n                  <h5 style={styles.extrasTitulo}>Extras:</h5>\n                  {Object.entries(EXTRAS).map(([extra, preco]) => (\n                    <label key={extra} style={styles.extraLabel}>\n                      <input type=\"checkbox\" checked={extrasSelecionados.includes(extra)} onChange={(e) => {\n                        if (e.target.checked) setExtrasSelecionados(prev => [...prev, extra]);\n                        else setExtrasSelecionados(prev => prev.filter(e => e !== extra));\n                      }} style={styles.checkbox} /> \n                      {extra} (+R$ {preco.toFixed(2)})\n                    </label>\n                  ))}\n                </div>\n                <div style={styles.modalTotal}>\n                  Total: R$ {((pizzaToAdd.preco + extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e as keyof typeof EXTRAS] || 0), 0)) * quantidade).toFixed(2)}\n                </div>\n                <div style={styles.modalButtons}>\n                  <button onClick={() => setPizzaToAdd(null)} style={styles.cancelarButton}>Cancelar</button>\n                  <button onClick={handleAdicionarAoCarrinho} style={styles.adicionarButton}>Adicionar</button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Input de Mensagem */}\n          {!showCarrinho && (\n            <div style={styles.inputArea}>\n              <input type=\"text\" value={inputText} onChange={(e) => setInputText(e.target.value)} onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()} placeholder=\"Digite uma mensagem...\" style={styles.input} disabled={loading} />\n              <button onClick={handleSendMessage} style={{ ...styles.sendButton, opacity: loading ? 0.6 : 1, cursor: loading ? 'not-allowed' : 'pointer' }} disabled={loading}>\n                {loading ? '‚è≥' : '‚Üë'}\n              </button>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\n// --- Componente de Mensagem ---\nconst ChatMessage: React.FC<{ message: Message; onOptionClick: (action: string) => void; }> = ({ message, onOptionClick }) => {\n  const isUser = message.type === 'user';\n  const isSystem = message.type === 'system';\n  const isCardapio = message.type === 'cardapio';\n  const isAction = message.type === 'action';\n\n  if (isCardapio && message.pizza) {\n    return (\n      <div style={styles.cardapioMessage}>\n        <div style={styles.cardapioContent}>\n          <strong style={styles.pizzaNome}>{message.pizza.nome}</strong>\n          <div style={styles.pizzaIngredientes}>{message.pizza.ingredientes}</div>\n          <div style={styles.cardapioFooter}>\n            <strong style={styles.pizzaPreco}>R$ {message.pizza.preco.toFixed(2)}</strong>\n            {message.options && <button onClick={() => onOptionClick(message.options![0].action)} style={styles.cardapioButton}>Adicionar</button>}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (isAction && message.options) {\n    return (\n      <div style={styles.actionMessage}>\n        {message.options.map((opt, i) => <button key={i} onClick={() => onOptionClick(opt.action)} style={styles.actionButton}>{opt.text}</button>)}\n      </div>\n    );\n  }\n\n  if (isSystem) {\n    return <div style={styles.systemMessage}><div style={styles.systemBubble}>{message.text}</div></div>;\n  }\n\n  return (\n    <div style={{ ...styles.messageContainer, justifyContent: isUser ? 'flex-end' : 'flex-start' }}>\n      <div style={{ ...styles.messageBubble, ...(isUser ? styles.userBubble : styles.botBubble) }}>\n        {message.text?.split('\\n').map((line, i) => <span key={i}>{line}<br /></span>)}\n      </div>\n    </div>\n  );\n};\n\n// --- Estilos CSS em JS - Estilo WhatsApp ---\nconst styles = {\n  container: {\n    fontFamily: \"'Segoe UI', Helvetica, Arial, sans-serif\",\n    padding: '0',\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column' as const,\n    backgroundColor: '#e5ddd5',\n    backgroundImage: 'url(\"image/svg+xml,%3Csvg width=\\'100\\' height=\\'100\\' viewBox=\\'0 0 100 100\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cpath d=\\'M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z\\' fill=\\'%239C92AC\\' fill-opacity=\\'0.05\\' fill-rule=\\'evenodd\\'/%3E%3C/svg%3E\")',\n    position: 'relative' as const,\n  },\n  \n  whatsappHeader: {\n    backgroundColor: '#075e54',\n    padding: '16px',\n    color: 'white',\n    boxShadow: '0 1px 3px rgba(0,0,0,0.3)',\n  },\n  \n  headerInfo: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '12px',\n  },\n  \n  avatar: {\n    width: '40px',\n    height: '40px',\n    borderRadius: '50%',\n    backgroundColor: '#25d366',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '20px',\n  },\n  \n  headerText: {\n    flex: 1,\n  },\n  \n  headerTitle: {\n    fontSize: '16px',\n    fontWeight: 'bold' as const,\n  },\n  \n  headerStatus: {\n    fontSize: '12px',\n    opacity: 0.8,\n  },\n  \n  clienteForm: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column' as const,\n    justifyContent: 'center',\n    padding: '20px',\n  },\n  \n  formContainer: {\n    backgroundColor: 'white',\n    padding: '24px',\n    borderRadius: '8px',\n    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n  },\n  \n  formTitle: {\n    margin: '0 0 20px 0',\n    fontSize: '20px',\n    fontWeight: 'bold' as const,\n    color: '#075e54',\n    textAlign: 'center' as const,\n  },\n  \n  input: {\n    width: '100%',\n    padding: '12px',\n    border: '1px solid #ddd',\n    borderRadius: '8px',\n    fontSize: '14px',\n    marginBottom: '12px',\n    boxSizing: 'border-box' as const,\n    outline: 'none',\n    transition: 'border-color 0.2s',\n  },\n  \n  confirmButton: {\n    width: '100%',\n    padding: '14px',\n    backgroundColor: '#25d366',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    fontSize: '16px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n    transition: 'background-color 0.2s',\n  },\n  \n  chatArea: {\n    flex: 1,\n    overflowY: 'auto' as const,\n    padding: '16px',\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '8px',\n  },\n  \n  messageContainer: {\n    display: 'flex',\n    marginBottom: '8px',\n  },\n  \n  messageBubble: {\n    maxWidth: '70%',\n    padding: '8px 12px',\n    borderRadius: '8px',\n    fontSize: '14px',\n    lineHeight: '1.4',\n    wordWrap: 'break-word' as const,\n  },\n  \n  userBubble: {\n    backgroundColor: '#dcf8c6',\n    borderTopRightRadius: '2px',\n  },\n  \n  botBubble: {\n    backgroundColor: 'white',\n    borderTopLeftRadius: '2px',\n    boxShadow: '0 1px 2px rgba(0,0,0,0.1)',\n  },\n  \n  systemMessage: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginBottom: '8px',\n  },\n  \n  systemBubble: {\n    backgroundColor: 'rgba(0,0,0,0.1)',\n    color: '#666',\n    padding: '6px 12px',\n    borderRadius: '12px',\n    fontSize: '12px',\n    maxWidth: '80%',\n    textAlign: 'center' as const,\n  },\n  \n  cardapioMessage: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    marginBottom: '8px',\n  },\n  \n  cardapioContent: {\n    backgroundColor: 'white',\n    padding: '12px',\n    borderRadius: '8px',\n    boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n    maxWidth: '80%',\n  },\n  \n  pizzaNome: {\n    display: 'block',\n    fontSize: '14px',\n    fontWeight: 'bold',\n    marginBottom: '4px',\n  },\n  \n  pizzaIngredientes: {\n    fontSize: '12px',\n    color: '#666',\n    marginBottom: '8px',\n  },\n  \n  pizzaPreco: {\n    color: '#25d366',\n    fontSize: '14px',\n  },\n  \n  cardapioFooter: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  \n  cardapioButton: {\n    padding: '6px 12px',\n    backgroundColor: '#25d366',\n    color: 'white',\n    border: 'none',\n    borderRadius: '16px',\n    fontSize: '12px',\n    cursor: 'pointer',\n  },\n  \n  actionMessage: {\n    display: 'flex',\n    justifyContent: 'center',\n    gap: '8px',\n    marginBottom: '8px',\n    flexWrap: 'wrap' as const,\n  },\n  \n  actionButton: {\n    padding: '8px 16px',\n    backgroundColor: 'white',\n    color: '#075e54',\n    border: '1px solid #075e54',\n    borderRadius: '18px',\n    fontSize: '12px',\n    cursor: 'pointer',\n    transition: 'all 0.2s',\n  },\n  \n  loading: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    marginBottom: '8px',\n  },\n  \n  typingIndicator: {\n    backgroundColor: 'white',\n    padding: '12px 16px',\n    borderRadius: '8px',\n    display: 'flex',\n    gap: '4px',\n    alignItems: 'center',\n  },\n  \n  typingDot: {\n    width: '6px',\n    height: '6px',\n    backgroundColor: '#999',\n    borderRadius: '50%',\n    animation: 'typing 1.4s infinite ease-in-out',\n  },\n  \n  carrinhoArea: {\n    position: 'absolute' as const,\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'white',\n    zIndex: 10,\n    display: 'flex',\n    flexDirection: 'column' as const,\n  },\n  \n  carrinhoHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '16px',\n    backgroundColor: '#075e54',\n    color: 'white',\n    gap: '12px',\n  },\n  \n  backButton: {\n    background: 'none',\n    border: 'none',\n    color: 'white',\n    fontSize: '18px',\n    cursor: 'pointer',\n    padding: '4px',\n  },\n  \n  carrinhoTitulo: {\n    margin: 0,\n    fontSize: '18px',\n    fontWeight: 'bold' as const,\n  },\n  \n  carrinhoItens: {\n    flex: 1,\n    overflowY: 'auto' as const,\n    padding: '16px',\n  },\n  \n  itemCarrinho: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    padding: '12px 0',\n    borderBottom: '1px solid #f0f0f0',\n    gap: '12px',\n  },\n  \n  itemInfo: {\n    flex: 1,\n  },\n  \n  itemNome: {\n    display: 'block',\n    fontSize: '14px',\n    marginBottom: '4px',\n  },\n  \n  itemDetails: {\n    fontSize: '12px',\n    color: '#666',\n    marginBottom: '8px',\n  },\n  \n  itemExtras: {\n    fontSize: '11px',\n    color: '#25d366',\n  },\n  \n  itemTotal: {\n    color: '#075e54',\n    fontSize: '14px',\n  },\n  \n  quantidadeContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    margin: '8px 0',\n  },\n  \n  quantidadeButton: {\n    width: '24px',\n    height: '24px',\n    borderRadius: '50%',\n    border: '1px solid #075e54',\n    backgroundColor: 'white',\n    color: '#075e54',\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '12px',\n  },\n  \n  quantidadeText: {\n    padding: '0 8px',\n    fontWeight: 'bold' as const,\n    minWidth: '20px',\n    textAlign: 'center' as const,\n  },\n  \n  removerButton: {\n    padding: '6px',\n    backgroundColor: 'transparent',\n    color: '#ff4444',\n    border: 'none',\n    borderRadius: '6px',\n    cursor: 'pointer',\n    fontSize: '14px',\n  },\n  \n  carrinhoVazio: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column' as const,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: '40px',\n  },\n  \n  carrinhoVazioText: {\n    color: '#666',\n    marginBottom: '16px',\n    textAlign: 'center' as const,\n  },\n  \n  continuarButton: {\n    padding: '12px 24px',\n    backgroundColor: '#25d366',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n  },\n  \n  totalCarrinho: {\n    padding: '16px',\n    borderTop: '2px solid #f0f0f0',\n    textAlign: 'center' as const,\n    fontWeight: 'bold' as const,\n    fontSize: '16px',\n    color: '#075e54',\n  },\n  \n  carrinhoBotoes: {\n    padding: '16px',\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '8px',\n  },\n  \n  whatsappButton: {\n    padding: '14px',\n    backgroundColor: '#25d366',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n    fontSize: '14px',\n  },\n  \n  limparButton: {\n    padding: '12px',\n    backgroundColor: 'transparent',\n    color: '#ff4444',\n    border: '1px solid #ff4444',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '14px',\n  },\n  \n  floatingCarrinhoButton: {\n    position: 'absolute' as const,\n    bottom: '80px',\n    right: '16px',\n    padding: '12px 16px',\n    backgroundColor: '#25d366',\n    color: 'white',\n    border: 'none',\n    borderRadius: '24px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n    boxShadow: '0 2px 8px rgba(0,0,0,0.3)',\n    zIndex: 5,\n    fontSize: '14px',\n  },\n  \n  modalOverlay: {\n    position: 'absolute' as const,\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 20,\n    padding: '16px',\n  },\n  \n  modalContent: {\n    backgroundColor: 'white',\n    padding: '20px',\n    borderRadius: '12px',\n    width: '100%',\n    maxWidth: '400px',\n    maxHeight: '80vh',\n    overflowY: 'auto' as const,\n    boxShadow: '0 4px 20px rgba(0,0,0,0.3)',\n  },\n  \n  modalTitulo: {\n    margin: '0 0 8px 0',\n    fontSize: '18px',\n    fontWeight: 'bold' as const,\n    color: '#075e54',\n    textAlign: 'center' as const,\n  },\n  \n  modalPreco: {\n    textAlign: 'center' as const,\n    fontSize: '16px',\n    color: '#25d366',\n    fontWeight: 'bold' as const,\n    marginBottom: '16px',\n  },\n  \n  quantidadeSection: {\n    marginBottom: '16px',\n    textAlign: 'center' as const,\n  },\n  \n  quantidadeLabel: {\n    display: 'block',\n    marginBottom: '8px',\n    fontWeight: 'bold' as const,\n    color: '#333',\n  },\n  \n  extrasSection: {\n    marginBottom: '16px',\n  },\n  \n  extrasTitulo: {\n    margin: '0 0 12px 0',\n    fontSize: '14px',\n    fontWeight: 'bold' as const,\n    color: '#333',\n  },\n  \n  extraLabel: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    marginBottom: '8px',\n    padding: '8px',\n    borderRadius: '6px',\n    backgroundColor: '#f8f9fa',\n    cursor: 'pointer',\n    fontSize: '14px',\n  },\n  \n  checkbox: {\n    margin: 0,\n  },\n  \n  modalTotal: {\n    textAlign: 'center' as const,\n    padding: '12px 0',\n    borderTop: '1px solid #e0e0e0',\n    marginTop: '12px',\n    fontSize: '16px',\n    fontWeight: 'bold' as const,\n    color: '#075e54',\n  },\n  \n  modalButtons: {\n    display: 'flex',\n    gap: '12px',\n    marginTop: '16px',\n  },\n  \n  cancelarButton: {\n    flex: 1,\n    padding: '12px',\n    backgroundColor: '#666',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '14px',\n  },\n  \n  adicionarButton: {\n    flex: 2,\n    padding: '12px',\n    backgroundColor: '#25d366',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '14px',\n    fontWeight: 'bold' as const,\n  },\n  \n  inputArea: {\n    display: 'flex',\n    gap: '8px',\n    padding: '12px',\n    backgroundColor: '#f0f0f0',\n    borderTop: '1px solid #ddd',\n  },\n  \n  sendButton: {\n    padding: '12px 16px',\n    backgroundColor: '#25d366',\n    color: 'white',\n    border: 'none',\n    borderRadius: '50%',\n    cursor: 'pointer',\n    minWidth: '44px',\n    height: '44px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '16px',\n  },\n};\n\n// Adicionar anima√ß√£o de typing\nconst style = document.createElement('style');\nstyle.textContent = `\n  @keyframes typing {\n    0%, 60%, 100% { transform: translateY(0); }\n    30% { transform: translateY(-4px); }\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  \n  .typing-dot:nth-child(1) { animation-delay: 0s; }\n  .typing-dot:nth-child(2) { animation-delay: 0.2s; }\n  .typing-dot:nth-child(3) { animation-delay: 0.4s; }\n`;\ndocument.head.appendChild(style);\n\nexport default PizzaRecommender;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}