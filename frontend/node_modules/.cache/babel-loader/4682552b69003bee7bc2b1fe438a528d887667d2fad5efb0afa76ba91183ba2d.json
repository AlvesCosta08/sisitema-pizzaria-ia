{"ast":null,"code":"var _jsxFileName = \"/home/codigoquatro/Documentos/pizzaria-ia/frontend/src/components/PizzaRecommender.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { recomendarPizza, salvarPedido } from '../services/api';\nimport { CARDAPIO, EXTRAS } from '../cardapio-data';\n\n// --- Tipos para mensagens do chat ---\n\n// --- Tipos para o Carrinho ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// --- Constante para o n√∫mero de atendimento ---\nconst NUMERO_ATENDIMENTO = '5585988978980'; // Substitua pelo n√∫mero real da pizzaria/atendente\n\nconst PizzaRecommender = () => {\n  _s();\n  // --- Estados para dados do cliente ---\n  const [clienteInfo, setClienteInfo] = useState({\n    nome: '',\n    telefone: '',\n    endereco: ''\n  });\n  const [showClienteForm, setShowClienteForm] = useState(true);\n\n  // --- Estados para chat e fluxo ---\n  const [messages, setMessages] = useState([]);\n  const [inputText, setInputText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [pedidoStatus, setPedidoStatus] = useState(null);\n\n  // --- Estados para o Carrinho ---\n  const [carrinho, setCarrinho] = useState([]);\n  const [showCarrinho, setShowCarrinho] = useState(false); // Mostra/oculta a se√ß√£o do carrinho\n\n  // --- Estados para Adicionar ao Carrinho ---\n  const [pizzaToAdd, setPizzaToAdd] = useState(null);\n  const [extrasSelecionados, setExtrasSelecionados] = useState([]);\n\n  // --- Ref para auto-scroll ---\n  const messagesEndRef = useRef(null);\n\n  // --- Rola para a √∫ltima mensagem ---\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    // Mensagem de boas-vindas inicial\n    setMessages([{\n      id: 1,\n      text: \"üçï Ol√°! Bem-vindo √† Pizzaria IA! Sou seu assistente virtual. Vamos come√ßar com seu cadastro.\",\n      type: 'bot',\n      timestamp: new Date()\n    }]);\n    scrollToBottom();\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // --- Calcula total do carrinho ---\n  const totalCarrinho = carrinho.reduce((sum, item) => sum + item.precoTotal, 0);\n\n  // --- Simula envio de status do pedido ---\n  const simularStatusPedido = id => {\n    const status = [`Pedido #${id} confirmado e em prepara√ß√£o.`, `Pedido #${id} saindo para entrega.`, `Pedido #${id} entregue! Aproveite!`];\n    let i = 0;\n    const interval = setInterval(() => {\n      if (i < status.length) {\n        setMessages(prev => [...prev, {\n          id: Date.now() + i,\n          text: status[i],\n          type: 'pedido',\n          timestamp: new Date()\n        }]);\n        i++;\n      } else {\n        clearInterval(interval);\n      }\n    }, 5000); // Atualiza a cada 5 segundos\n  };\n\n  // --- Fun√ß√£o para lidar com a√ß√µes de bot√µes ---\n  const handleOptionClick = async action => {\n    setLoading(true);\n    const userMessage = {\n      id: Date.now(),\n      text: action,\n      type: 'user',\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    let botResponse = \"\";\n    if (action === 'ver_cardapio') {\n      botResponse = \"Claro! Aqui est√° nosso card√°pio. Clique em 'Adicionar ao Carrinho' para escolher uma pizza.\\n\\n\";\n      const cardapioMessages = Object.entries(CARDAPIO).map(([nome, info], index) => ({\n        id: Date.now() + index,\n        type: 'cardapio',\n        timestamp: new Date(),\n        pizza: {\n          nome: nome,\n          ingredientes: info.ingredientes,\n          preco: info.preco\n        },\n        options: [{\n          text: \"Adicionar ao Carrinho\",\n          action: `adicionar_${nome}`\n        }] // Bot√£o para adicionar\n      }));\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1000,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }, ...cardapioMessages]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    } else if (action === 'recomendar') {\n      try {\n        const resp = await recomendarPizza(1); // Usando ID gen√©rico para recomenda√ß√£o\n        if (!resp.erro) {\n          botResponse = `Recomendo a pizza de **${resp.pizza_recomendada}**!\\nMotivo: ${resp.motivo}\\nIngredientes: ${resp.ingredientes.join(', ')}.`;\n          // Bot√£o para adicionar a pizza recomendada\n          setMessages(prev => [...prev, {\n            id: Date.now() + 1,\n            text: botResponse,\n            type: 'bot',\n            timestamp: new Date()\n          }, {\n            id: Date.now() + 2,\n            type: 'action',\n            options: [{\n              text: \"Adicionar ao Carrinho\",\n              action: `adicionar_${resp.pizza_recomendada}`\n            }],\n            timestamp: new Date()\n          }]);\n          botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n        } else {\n          botResponse = `Erro na recomenda√ß√£o: ${resp.detalhe}`;\n        }\n      } catch (e) {\n        botResponse = \"Erro ao se comunicar com o sistema de recomenda√ß√£o.\";\n      }\n    } else if (action.startsWith('adicionar_')) {\n      const nomePizza = action.replace('adicionar_', '');\n      const infoPizza = CARDAPIO[nomePizza];\n      if (infoPizza) {\n        setPizzaToAdd({\n          nome: nomePizza,\n          preco: infoPizza.preco\n        });\n        setExtrasSelecionados([]); // Limpa extras anteriores\n      } else {\n        botResponse = \"Erro: Pizza n√£o encontrada.\";\n      }\n    } else if (action === 'ver_carrinho') {\n      setShowCarrinho(true);\n      botResponse = \"\"; // O carrinho ser√° exibido separadamente\n    } else if (action === 'finalizar_pedido') {\n      if (carrinho.length === 0) {\n        botResponse = \"Seu carrinho est√° vazio. Adicione itens antes de finalizar.\";\n      } else {\n        try {\n          // --- AJUSTE: Itera sobre todos os itens do carrinho ---\n          for (const item of carrinho) {\n            // --- CORRE√á√ÉO: Inclui nome_cliente e telefone_cliente ---\n            const pedidoIndividual = {\n              cliente_id: clienteInfo.id || 1,\n              // Usar ID real do cliente quando dispon√≠vel\n              nome_cliente: clienteInfo.nome,\n              // <-- ADICIONADO\n              telefone_cliente: clienteInfo.telefone,\n              // <-- ADICIONADO\n              pizza: item.nome,\n              extras: item.extras\n            };\n            const resp = await salvarPedido(pedidoIndividual); // <-- Chamada com objeto correto\n            if (!resp.sucesso) {\n              throw new Error(`Erro ao confirmar pedido de ${item.nome}: ${resp.erro}`);\n            }\n            setMessages(prev => [...prev, {\n              id: Date.now(),\n              text: `‚úÖ Pedido de ${item.nome} confirmado!`,\n              type: 'info',\n              timestamp: new Date()\n            }]);\n          }\n          botResponse = `‚úÖ Pedido com ${carrinho.length} itens confirmado! Total: R$ ${totalCarrinho.toFixed(2)}`;\n          // Limpa o carrinho\n          setCarrinho([]);\n          setShowCarrinho(false);\n          // --- ADICIONAR ESTA LINHA ---\n          // Adiciona mensagem com link do WhatsApp ao chat\n          setMessages(prev => [...prev, {\n            id: Date.now() + 1000,\n            text: \"Clique aqui para confirmar via WhatsApp\",\n            type: 'info',\n            timestamp: new Date()\n          }]);\n          // -------------------------\n        } catch (e) {\n          botResponse = `Erro ao confirmar pedido: ${e.message || e}`;\n        }\n      }\n    } else if (action === 'ajuda') {\n      botResponse = \"Voc√™ pode me pedir para:\\n- Mostrar o card√°pio\\n- Fazer uma recomenda√ß√£o\\n- Ver ou finalizar seu pedido\\n- Digite o que deseja!\";\n    }\n    if (botResponse) {\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }]);\n    }\n    setLoading(false);\n  };\n\n  // --- Fun√ß√£o para adicionar item ao carrinho ---\n  const handleAdicionarAoCarrinho = () => {\n    if (pizzaToAdd) {\n      const precoExtras = extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e] || 0), 0);\n      const precoTotal = pizzaToAdd.preco + precoExtras;\n      const novoItem = {\n        id: Date.now(),\n        // ID √∫nico baseado em timestamp\n        nome: pizzaToAdd.nome,\n        precoBase: pizzaToAdd.preco,\n        extras: [...extrasSelecionados],\n        precoTotal: precoTotal\n      };\n      setCarrinho(prev => [...prev, novoItem]);\n      setPizzaToAdd(null); // Fecha o modal/√°rea de adi√ß√£o\n      setExtrasSelecionados([]); // Limpa extras selecionados\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        text: `‚úÖ ${pizzaToAdd.nome} adicionada ao carrinho!`,\n        type: 'info',\n        timestamp: new Date()\n      }]);\n    }\n  };\n\n  // --- Fun√ß√£o para remover item do carrinho ---\n  const handleRemoverDoCarrinho = id => {\n    setCarrinho(prev => prev.filter(item => item.id !== id));\n  };\n\n  // --- Fun√ß√£o para lidar com o envio de mensagens ---\n  const handleSendMessage = async () => {\n    if (!inputText.trim()) return;\n    const userMessage = {\n      id: Date.now(),\n      text: inputText,\n      type: 'user',\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputText('');\n    setLoading(true);\n\n    // --- L√≥gica de IA Simples ---\n    let botResponse = \"\";\n    const lowerText = inputText.toLowerCase();\n    if (showClienteForm) {\n      // Se ainda n√£o coletou info, ignora comandos e pede info\n      botResponse = \"Para continuar, por favor, preencha seu nome, telefone e endere√ßo.\";\n    } else if (lowerText.includes(\"ol√°\") || lowerText.includes(\"oi\") || lowerText.includes(\"bom dia\") || lowerText.includes(\"boa tarde\") || lowerText.includes(\"boa noite\")) {\n      botResponse = `Ol√° ${clienteInfo.nome}! üòä Como posso te ajudar?`;\n      // Adiciona op√ß√µes de a√ß√£o ap√≥s saudar\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }, {\n        id: Date.now() + 2,\n        type: 'action',\n        options: [{\n          text: \"Ver Card√°pio\",\n          action: 'ver_cardapio'\n        }, {\n          text: \"Receber Recomenda√ß√£o\",\n          action: 'recomendar'\n        }, {\n          text: \"Ver Carrinho\",\n          action: 'ver_carrinho'\n        }, {\n          text: \"Ajuda\",\n          action: 'ajuda'\n        }],\n        timestamp: new Date()\n      }]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    } else if (lowerText.includes(\"card√°pio\") || lowerText.includes(\"ver card√°pio\") || lowerText.includes(\"op√ß√µes\") || lowerText.includes(\"quais pizzas\") || lowerText.includes(\"o que voc√™s t√™m\")) {\n      // Exibe o card√°pio como mensagens separadas com bot√µes\n      botResponse = \"Claro! Aqui est√° nosso card√°pio. Clique em 'Adicionar ao Carrinho' para escolher uma pizza.\\n\\n\";\n      const cardapioMessages = Object.entries(CARDAPIO).map(([nome, info], index) => ({\n        id: Date.now() + index,\n        type: 'cardapio',\n        timestamp: new Date(),\n        pizza: {\n          nome: nome,\n          ingredientes: info.ingredientes,\n          preco: info.preco\n        },\n        options: [{\n          text: \"Adicionar ao Carrinho\",\n          action: `adicionar_${nome}`\n        }] // Bot√£o para adicionar\n      }));\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1000,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }, ...cardapioMessages]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    } else if (lowerText.includes(\"recomendar\") || lowerText.includes(\"sugira\") || lowerText.includes(\"qual pizza\")) {\n      // Chama a API de recomenda√ß√£o\n      try {\n        const resp = await recomendarPizza(1); // Usa ID fixo ou gerado\n        if (!resp.erro) {\n          botResponse = `Recomendo a pizza de **${resp.pizza_recomendada}**!\\nMotivo: ${resp.motivo}\\nIngredientes: ${resp.ingredientes.join(', ')}.`;\n          // Bot√£o para adicionar a pizza recomendada\n          setMessages(prev => [...prev, {\n            id: Date.now() + 1,\n            text: botResponse,\n            type: 'bot',\n            timestamp: new Date()\n          }, {\n            id: Date.now() + 2,\n            type: 'action',\n            options: [{\n              text: \"Adicionar ao Carrinho\",\n              action: `adicionar_${resp.pizza_recomendada}`\n            }],\n            timestamp: new Date()\n          }]);\n          botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n        } else {\n          botResponse = `Erro na recomenda√ß√£o: ${resp.detalhe}`;\n        }\n      } catch (e) {\n        botResponse = \"Erro ao se comunicar com o sistema de recomenda√ß√£o.\";\n      }\n    } else if (lowerText.includes(\"carrinho\") || lowerText.includes(\"ver carrinho\")) {\n      setShowCarrinho(true);\n      botResponse = \"\"; // O carrinho ser√° exibido separadamente\n    } else if (lowerText.includes(\"pedido\") || lowerText.includes(\"status\")) {\n      if (pedidoStatus) {\n        botResponse = pedidoStatus;\n      } else {\n        botResponse = \"Ainda n√£o h√° um pedido em andamento.\";\n      }\n    } else if (lowerText.includes(\"ajuda\")) {\n      botResponse = \"Voc√™ pode me pedir para:\\n- Mostrar o card√°pio\\n- Fazer uma recomenda√ß√£o\\n- Ver ou finalizar seu pedido\\n- Digite o que deseja!\";\n      // Adiciona op√ß√µes de a√ß√£o para facilitar\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }, {\n        id: Date.now() + 2,\n        type: 'action',\n        options: [{\n          text: \"Ver Card√°pio\",\n          action: 'ver_cardapio'\n        }, {\n          text: \"Receber Recomenda√ß√£o\",\n          action: 'recomendar'\n        }, {\n          text: \"Ver Carrinho\",\n          action: 'ver_carrinho'\n        }, {\n          text: \"Ajuda\",\n          action: 'ajuda'\n        }],\n        timestamp: new Date()\n      }]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    } else {\n      botResponse = \"Desculpe, n√£o entendi. Posso te ajudar com o card√°pio, uma recomenda√ß√£o, informa√ß√µes sobre seu pedido, ou digite 'ajuda' para ver comandos dispon√≠veis.\";\n      // Adiciona op√ß√µes de a√ß√£o para facilitar\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }, {\n        id: Date.now() + 2,\n        type: 'action',\n        options: [{\n          text: \"Ver Card√°pio\",\n          action: 'ver_cardapio'\n        }, {\n          text: \"Receber Recomenda√ß√£o\",\n          action: 'recomendar'\n        }, {\n          text: \"Ver Carrinho\",\n          action: 'ver_carrinho'\n        }, {\n          text: \"Ajuda\",\n          action: 'ajuda'\n        }],\n        timestamp: new Date()\n      }]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    }\n    if (botResponse) {\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }]);\n    }\n    setLoading(false);\n  };\n\n  // --- Fun√ß√£o para lidar com o envio do formul√°rio de cliente ---\n  const handleClienteSubmit = e => {\n    e.preventDefault();\n    if (clienteInfo.nome && clienteInfo.telefone && clienteInfo.endereco) {\n      // Gera um ID de cliente simples (em produ√ß√£o, viria do backend)\n      const novoClienteId = Date.now() % 10000;\n      setClienteInfo(prev => ({\n        ...prev,\n        id: novoClienteId\n      })); // <-- Atualiza o estado com o ID\n      setShowClienteForm(false);\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        text: `Obrigado, ${clienteInfo.nome}! Seu ID √© ${novoClienteId}. Como posso te ajudar agora?`,\n        type: 'bot',\n        timestamp: new Date()\n      }, {\n        id: Date.now() + 1,\n        type: 'action',\n        options: [{\n          text: \"Ver Card√°pio\",\n          action: 'ver_cardapio'\n        }, {\n          text: \"Receber Recomenda√ß√£o\",\n          action: 'recomendar'\n        }, {\n          text: \"Ver Carrinho\",\n          action: 'ver_carrinho'\n        }, {\n          text: \"Ajuda\",\n          action: 'ajuda'\n        }],\n        timestamp: new Date()\n      }]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [showClienteForm && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleClienteSubmit,\n      style: styles.clienteForm,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: styles.formTitle,\n        children: \"_infos do Cliente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Nome completo\",\n        value: clienteInfo.nome,\n        onChange: e => setClienteInfo({\n          ...clienteInfo,\n          nome: e.target.value\n        }),\n        style: styles.input,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"tel\",\n        placeholder: \"Telefone (ex: 11999999999)\",\n        value: clienteInfo.telefone,\n        onChange: e => setClienteInfo({\n          ...clienteInfo,\n          telefone: e.target.value\n        }),\n        style: styles.input,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Endere\\xE7o completo\",\n        value: clienteInfo.endereco,\n        onChange: e => setClienteInfo({\n          ...clienteInfo,\n          endereco: e.target.value\n        }),\n        style: {\n          ...styles.input,\n          minHeight: '60px'\n        },\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: styles.confirmButton,\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }, this), !showClienteForm && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chatArea,\n        children: [messages.map(msg => /*#__PURE__*/_jsxDEV(ChatMessage, {\n          message: msg,\n          onOptionClick: handleOptionClick,\n          clienteInfo: clienteInfo // Passa o objeto clienteInfo como prop (ainda necess√°rio para a mensagem do WhatsApp)\n          // numeroTelefoneCliente={clienteInfo.telefone} // <-- COMENTADO: N√£o √© mais necess√°rio passar o n√∫mero do cliente\n        }, msg.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 15\n        }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.loading,\n          children: \"Pizzaria IA est\\xE1 digitando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 11\n      }, this), showCarrinho && carrinho.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.carrinhoArea,\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: styles.carrinhoTitulo,\n          children: \"\\uD83D\\uDED2 Seu Carrinho\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 15\n        }, this), carrinho.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.itemCarrinho,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.itemInfo,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: item.nome\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: [\"Pre\\xE7o Base: R$ \", item.precoBase.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 21\n            }, this), item.extras.length > 0 && /*#__PURE__*/_jsxDEV(\"small\", {\n              children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 30\n              }, this), \"Extras: \", item.extras.join(', '), \" (+R$ \", item.extras.reduce((sum, e) => sum + (EXTRAS[e] || 0), 0).toFixed(2), \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Total: R$ \", item.precoTotal.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRemoverDoCarrinho(item.id),\n            style: styles.removerButton,\n            children: \"Remover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 19\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 17\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.totalCarrinho,\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"Total do Pedido: R$ \", totalCarrinho.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleOptionClick('finalizar_pedido'),\n          style: styles.finalizarButton,\n          children: \"Finalizar Pedido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCarrinho(false),\n          style: styles.voltarButton,\n          children: \"Continuar Comprando\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 13\n      }, this), !showCarrinho && carrinho.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCarrinho(true),\n        style: styles.verCarrinhoButton,\n        children: [\"Ver Carrinho (\", carrinho.length, \" itens) - R$ \", totalCarrinho.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 13\n      }, this), pizzaToAdd && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modalOverlay,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalContent,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Adicionar ao Carrinho: \", pizzaToAdd.nome]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Pre\\xE7o Base: R$ \", pizzaToAdd.preco.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Extras (opcional):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 19\n            }, this), Object.entries(EXTRAS).map(([extra, preco]) => /*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.extraLabel,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: extrasSelecionados.includes(extra),\n                onChange: e => {\n                  if (e.target.checked) {\n                    setExtrasSelecionados(prev => [...prev, extra]);\n                  } else {\n                    setExtrasSelecionados(prev => prev.filter(e => e !== extra));\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 23\n              }, this), \" \", extra, \" (+R$ \", preco.toFixed(2), \")\"]\n            }, extra, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.modalButtons,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setPizzaToAdd(null),\n              style: styles.cancelarButton,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAdicionarAoCarrinho,\n              style: styles.adicionarButton,\n              children: [\"Adicionar (R$ $\", (pizzaToAdd.preco + extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e] || 0), 0)).toFixed(2), \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.inputArea,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: inputText,\n          onChange: e => setInputText(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && handleSendMessage(),\n          placeholder: \"Digite sua mensagem...\",\n          style: styles.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          style: styles.sendButton,\n          children: \"Enviar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 355,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Componente para exibir uma mensagem no chat ---\n_s(PizzaRecommender, \"jHpTA2OregpfxP2/T9WQ6mf9iCI=\");\n_c = PizzaRecommender;\nconst ChatMessage = ({\n  message,\n  onOptionClick,\n  clienteInfo\n}) => {\n  // <-- Adicionado clienteInfo √†s props e desestruturado\n  const isUser = message.type === 'user';\n  const isPedido = message.type === 'pedido';\n  const isBot = message.type === 'bot';\n  const isInfo = message.type === 'info';\n  const isCardapio = message.type === 'cardapio';\n  const isAction = message.type === 'action';\n  let bgColor = '#f1f1f1';\n  let align = 'flex-start';\n  let fontWeight = 'normal';\n  if (isUser) {\n    bgColor = '#d32f2f';\n    align = 'flex-end';\n  } else if (isPedido) {\n    bgColor = '#4caf50';\n    fontWeight = 'bold';\n  } else if (isInfo) {\n    bgColor = '#2196f3';\n    fontWeight = 'bold';\n  } else if (isBot) {\n    bgColor = '#e0e0e0';\n  } else if (isCardapio) {\n    bgColor = '#fff3e0'; // Cor suave para itens do card√°pio\n    fontWeight = 'normal';\n  } else if (isAction) {\n    bgColor = 'transparent'; // Bot√µes de a√ß√£o\n    fontWeight = 'bold';\n  }\n\n  // --- Fun√ß√£o para lidar com o clique no link do WhatsApp ---\n  const handleCliqueWhatsApp = numeroTelefone => {\n    // Reaproveita a fun√ß√£o definida em PizzaRecommender ou move para um utilit√°rio\n    // Por simplicidade, redefinimos aqui.\n    const numeroLimpo = numeroTelefone.replace(/\\D/g, '');\n    let numeroFormatado = numeroLimpo;\n    if (numeroLimpo.length === 10) {\n      numeroFormatado = '55' + numeroLimpo.substring(0, 2) + '9' + numeroLimpo.substring(2);\n    } else if (numeroLimpo.length === 11) {\n      numeroFormatado = '55' + numeroLimpo;\n    } else {\n      console.error(\"N√∫mero de telefone inv√°lido ou incompleto para formato internacional.\", numeroLimpo);\n      // Opcional: Adicionar mensagem de erro ao chat aqui tamb√©m\n      return;\n    }\n    // --- Agora 'clienteInfo' est√° dispon√≠vel no escopo ---\n    const mensagem = `Ol√° ${encodeURIComponent(clienteInfo.nome)}, seu pedido est√° pronto! Por favor, confirme o recebimento ou avise se precisa cancelar.\\n\\n1. Confirmar Recebimento\\n2. Cancelar Pedido\\n\\nDigite \"CONFIRMAR\" ou \"CANCELAR\".`;\n    // ---\n    const mensagemCodificada = encodeURIComponent(mensagem);\n    const link = `https://wa.me/${numeroFormatado}?text=${mensagemCodificada}`;\n    if (link) {\n      window.open(link, '_blank');\n    }\n  };\n  if (isCardapio && message.pizza) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: align,\n        marginBottom: '8px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '8px 12px',\n          borderRadius: '12px',\n          backgroundColor: bgColor,\n          color: 'black',\n          maxWidth: '80%',\n          wordWrap: 'break-word',\n          fontWeight: fontWeight\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: message.pizza.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this), \" - R$ \", message.pizza.preco.toFixed(2), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: message.pizza.ingredientes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 11\n        }, this), message.options && message.options.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '4px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onOptionClick(message.options[0].action),\n            style: {\n              padding: '4px 8px',\n              borderRadius: '8px',\n              border: '1px solid #d32f2f',\n              backgroundColor: 'white',\n              color: '#d32f2f',\n              cursor: 'pointer',\n              fontSize: '12px',\n              marginTop: '4px'\n            },\n            children: message.options[0].text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 7\n    }, this);\n  }\n  if (isAction && message.options) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        gap: '8px',\n        marginBottom: '8px',\n        flexWrap: 'wrap'\n      },\n      children: message.options.map((opt, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onOptionClick(opt.action),\n        style: {\n          padding: '6px 12px',\n          borderRadius: '20px',\n          border: '1px solid #d32f2f',\n          backgroundColor: 'white',\n          color: '#d32f2f',\n          cursor: 'pointer',\n          fontSize: '14px'\n        },\n        children: opt.text\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 7\n    }, this);\n  }\n\n  // --- L√≥gica para renderizar mensagem com bot√£o do WhatsApp ---\n  let conteudoMensagem = message.text; // <-- Corre√ß√£o: Defina o tipo como React.ReactNode\n\n  if (isInfo && message.text === \"Clique aqui para confirmar via WhatsApp\") {\n    conteudoMensagem =\n    /*#__PURE__*/\n    // <-- Agora √© poss√≠vel atribuir um Element JSX\n    _jsxDEV(\"button\", {\n      onClick: () => handleCliqueWhatsApp(NUMERO_ATENDIMENTO) // <-- Chama a fun√ß√£o ajustada (usa constante)\n      ,\n      style: {\n        padding: '6px 12px',\n        borderRadius: '8px',\n        border: '1px solid #25D366',\n        backgroundColor: '#25D366',\n        color: 'white',\n        cursor: 'pointer',\n        fontSize: '14px',\n        fontWeight: 'normal'\n      },\n      children: \"\\uD83D\\uDCF2 Confirmar via WhatsApp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: align,\n      marginBottom: '8px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '8px 12px',\n        borderRadius: '12px',\n        backgroundColor: bgColor,\n        color: isUser ? 'white' : 'black',\n        maxWidth: '80%',\n        wordWrap: 'break-word',\n        fontWeight: fontWeight\n      },\n      children: [conteudoMensagem, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 639,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Estilos CSS em JS ---\n_c2 = ChatMessage;\nconst styles = {\n  container: {\n    fontFamily: 'Arial, sans-serif',\n    padding: '16px',\n    maxWidth: '400px',\n    margin: '0 auto',\n    display: 'flex',\n    flexDirection: 'column',\n    height: '70vh',\n    backgroundColor: '#fff',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n    position: 'relative' // Para o modal\n  },\n  clienteForm: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '8px'\n  },\n  formTitle: {\n    margin: '0 0 16px 0',\n    color: '#333',\n    fontSize: '18px',\n    fontWeight: 'bold'\n  },\n  chatArea: {\n    flex: 1,\n    overflowY: 'auto',\n    padding: '8px',\n    marginBottom: '8px',\n    backgroundColor: '#fafafa',\n    borderRadius: '8px',\n    border: '1px solid #eee'\n  },\n  carrinhoArea: {\n    padding: '12px',\n    backgroundColor: '#f9f9f9',\n    borderRadius: '8px',\n    border: '1px solid #ddd',\n    marginBottom: '8px',\n    maxHeight: '200px',\n    overflowY: 'auto'\n  },\n  carrinhoTitulo: {\n    margin: '0 0 8px 0',\n    fontSize: '16px',\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  itemCarrinho: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '6px 0',\n    borderBottom: '1px solid #eee'\n  },\n  itemInfo: {\n    flex: 1,\n    fontSize: '14px'\n  },\n  removerButton: {\n    padding: '4px 8px',\n    backgroundColor: '#f44336',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontSize: '12px'\n  },\n  totalCarrinho: {\n    textAlign: 'right',\n    padding: '8px 0',\n    fontWeight: 'bold',\n    borderTop: '1px solid #ddd',\n    marginTop: '8px'\n  },\n  finalizarButton: {\n    width: '100%',\n    padding: '10px',\n    backgroundColor: '#4caf50',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n    marginTop: '8px'\n  },\n  voltarButton: {\n    width: '100%',\n    padding: '8px',\n    backgroundColor: '#e0e0e0',\n    color: 'black',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    marginTop: '4px'\n  },\n  verCarrinhoButton: {\n    width: '100%',\n    padding: '8px',\n    backgroundColor: '#ff9800',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n    marginBottom: '8px'\n  },\n  modalOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 10\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    padding: '16px',\n    borderRadius: '8px',\n    width: '90%',\n    maxWidth: '400px'\n  },\n  extraLabel: {\n    display: 'block',\n    marginBottom: '4px'\n  },\n  modalButtons: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginTop: '12px'\n  },\n  cancelarButton: {\n    padding: '8px 16px',\n    backgroundColor: '#e0e0e0',\n    color: 'black',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer'\n  },\n  adicionarButton: {\n    padding: '8px 16px',\n    backgroundColor: '#4caf50',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer'\n  },\n  inputArea: {\n    display: 'flex',\n    gap: '8px'\n  },\n  input: {\n    flex: 1,\n    padding: '10px',\n    borderRadius: '8px',\n    border: '1px solid #ccc',\n    fontSize: '16px'\n  },\n  confirmButton: {\n    padding: '10px',\n    background: '#4caf50',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    fontSize: '16px',\n    cursor: 'pointer'\n  },\n  sendButton: {\n    padding: '10px 15px',\n    background: '#d32f2f',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    fontSize: '16px',\n    cursor: 'pointer'\n  },\n  loading: {\n    textAlign: 'center',\n    padding: '8px',\n    color: '#666',\n    fontStyle: 'italic'\n  }\n};\nexport default PizzaRecommender;\nvar _c, _c2;\n$RefreshReg$(_c, \"PizzaRecommender\");\n$RefreshReg$(_c2, \"ChatMessage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","recomendarPizza","salvarPedido","CARDAPIO","EXTRAS","jsxDEV","_jsxDEV","Fragment","_Fragment","NUMERO_ATENDIMENTO","PizzaRecommender","_s","clienteInfo","setClienteInfo","nome","telefone","endereco","showClienteForm","setShowClienteForm","messages","setMessages","inputText","setInputText","loading","setLoading","pedidoStatus","setPedidoStatus","carrinho","setCarrinho","showCarrinho","setShowCarrinho","pizzaToAdd","setPizzaToAdd","extrasSelecionados","setExtrasSelecionados","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","id","text","type","timestamp","Date","totalCarrinho","reduce","sum","item","precoTotal","simularStatusPedido","status","i","interval","setInterval","length","prev","now","clearInterval","handleOptionClick","action","userMessage","botResponse","cardapioMessages","Object","entries","map","info","index","pizza","ingredientes","preco","options","resp","erro","pizza_recomendada","motivo","join","detalhe","e","startsWith","nomePizza","replace","infoPizza","pedidoIndividual","cliente_id","nome_cliente","telefone_cliente","extras","sucesso","Error","toFixed","message","handleAdicionarAoCarrinho","precoExtras","novoItem","precoBase","handleRemoverDoCarrinho","filter","handleSendMessage","trim","lowerText","toLowerCase","includes","handleClienteSubmit","preventDefault","novoClienteId","style","styles","container","children","onSubmit","clienteForm","formTitle","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","input","required","minHeight","confirmButton","chatArea","msg","ChatMessage","onOptionClick","ref","carrinhoArea","carrinhoTitulo","itemCarrinho","itemInfo","onClick","removerButton","finalizarButton","voltarButton","verCarrinhoButton","modalOverlay","modalContent","extra","extraLabel","checked","modalButtons","cancelarButton","adicionarButton","inputArea","onKeyPress","key","sendButton","_c","isUser","isPedido","isBot","isInfo","isCardapio","isAction","bgColor","align","fontWeight","handleCliqueWhatsApp","numeroTelefone","numeroLimpo","numeroFormatado","substring","console","error","mensagem","encodeURIComponent","mensagemCodificada","link","window","open","display","justifyContent","marginBottom","padding","borderRadius","backgroundColor","color","maxWidth","wordWrap","marginTop","border","cursor","fontSize","gap","flexWrap","opt","conteudoMensagem","_c2","fontFamily","margin","flexDirection","height","boxShadow","position","flex","overflowY","maxHeight","alignItems","borderBottom","textAlign","borderTop","width","top","left","right","bottom","zIndex","background","fontStyle","$RefreshReg$"],"sources":["/home/codigoquatro/Documentos/pizzaria-ia/frontend/src/components/PizzaRecommender.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { recomendarPizza, salvarPedido } from '../services/api';\nimport { CARDAPIO, EXTRAS } from '../cardapio-data';\n\n// --- Tipos para mensagens do chat ---\ntype MessageType = 'info' | 'user' | 'bot' | 'pedido' | 'cardapio' | 'action' | 'form' | 'carrinho';\ninterface Message {\n  id: number;\n  text?: string;\n  type: MessageType;\n  timestamp: Date;\n  pizza?: { nome: string; ingredientes: string; preco: number };\n  formType?: 'pedido' | 'cliente';\n  options?: { text: string; action: string }[]; // Para bot√µes de a√ß√£o\n  carrinho?: CarrinhoItem[]; // Para mensagens de carrinho\n}\n\n// --- Tipos para o Carrinho ---\ninterface CarrinhoItem {\n  id: number; // ID √∫nico para cada item no carrinho (pode ser timestamp)\n  nome: string;\n  precoBase: number;\n  extras: string[];\n  precoTotal: number;\n}\n\n// --- Constante para o n√∫mero de atendimento ---\nconst NUMERO_ATENDIMENTO = '5585988978980'; // Substitua pelo n√∫mero real da pizzaria/atendente\n\nconst PizzaRecommender: React.FC = () => {\n  // --- Estados para dados do cliente ---\n  const [clienteInfo, setClienteInfo] = useState<{\n    id?: number; // Adicionando o campo ID\n    nome: string;\n    telefone: string;\n    endereco: string;\n  }>({\n    nome: '',\n    telefone: '',\n    endereco: '',\n  });\n  const [showClienteForm, setShowClienteForm] = useState(true);\n\n  // --- Estados para chat e fluxo ---\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputText, setInputText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [pedidoStatus, setPedidoStatus] = useState<string | null>(null);\n\n  // --- Estados para o Carrinho ---\n  const [carrinho, setCarrinho] = useState<CarrinhoItem[]>([]);\n  const [showCarrinho, setShowCarrinho] = useState(false); // Mostra/oculta a se√ß√£o do carrinho\n\n  // --- Estados para Adicionar ao Carrinho ---\n  const [pizzaToAdd, setPizzaToAdd] = useState<{ nome: string; preco: number } | null>(null);\n  const [extrasSelecionados, setExtrasSelecionados] = useState<string[]>([]);\n\n  // --- Ref para auto-scroll ---\n  const messagesEndRef = useRef<null | HTMLDivElement>(null);\n\n  // --- Rola para a √∫ltima mensagem ---\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    // Mensagem de boas-vindas inicial\n    setMessages([\n      { id: 1, text: \"üçï Ol√°! Bem-vindo √† Pizzaria IA! Sou seu assistente virtual. Vamos come√ßar com seu cadastro.\", type: 'bot', timestamp: new Date() }\n    ]);\n    scrollToBottom();\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // --- Calcula total do carrinho ---\n  const totalCarrinho = carrinho.reduce((sum, item) => sum + item.precoTotal, 0);\n\n  // --- Simula envio de status do pedido ---\n  const simularStatusPedido = (id: number) => {\n    const status = [\n      `Pedido #${id} confirmado e em prepara√ß√£o.`,\n      `Pedido #${id} saindo para entrega.`,\n      `Pedido #${id} entregue! Aproveite!`\n    ];\n    let i = 0;\n    const interval = setInterval(() => {\n      if (i < status.length) {\n        setMessages(prev => [\n          ...prev,\n          { id: Date.now() + i, text: status[i], type: 'pedido', timestamp: new Date() }\n        ]);\n        i++;\n      } else {\n        clearInterval(interval);\n      }\n    }, 5000); // Atualiza a cada 5 segundos\n  };\n\n  // --- Fun√ß√£o para lidar com a√ß√µes de bot√µes ---\n  const handleOptionClick = async (action: string) => {\n    setLoading(true);\n    const userMessage: Message = { id: Date.now(), text: action, type: 'user', timestamp: new Date() };\n    setMessages(prev => [...prev, userMessage]);\n\n    let botResponse = \"\";\n    if (action === 'ver_cardapio') {\n      botResponse = \"Claro! Aqui est√° nosso card√°pio. Clique em 'Adicionar ao Carrinho' para escolher uma pizza.\\n\\n\";\n      const cardapioMessages: Message[] = Object.entries(CARDAPIO).map(([nome, info], index) => ({\n        id: Date.now() + index,\n        type: 'cardapio',\n        timestamp: new Date(),\n        pizza: {\n          nome: nome,\n          ingredientes: info.ingredientes,\n          preco: info.preco\n        },\n        options: [{ text: \"Adicionar ao Carrinho\", action: `adicionar_${nome}` }] // Bot√£o para adicionar\n      }));\n      setMessages(prev => [...prev, { id: Date.now() + 1000, text: botResponse, type: 'bot', timestamp: new Date() }, ...cardapioMessages]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    } else if (action === 'recomendar') {\n      try {\n        const resp = await recomendarPizza(1); // Usando ID gen√©rico para recomenda√ß√£o\n        if (!resp.erro) {\n          botResponse = `Recomendo a pizza de **${resp.pizza_recomendada}**!\\nMotivo: ${resp.motivo}\\nIngredientes: ${resp.ingredientes.join(', ')}.`;\n          // Bot√£o para adicionar a pizza recomendada\n          setMessages(prev => [\n            ...prev,\n            { id: Date.now() + 1, text: botResponse, type: 'bot', timestamp: new Date() },\n            { id: Date.now() + 2, type: 'action', options: [{ text: \"Adicionar ao Carrinho\", action: `adicionar_${resp.pizza_recomendada}` }], timestamp: new Date() }\n          ]);\n          botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n        } else {\n          botResponse = `Erro na recomenda√ß√£o: ${resp.detalhe}`;\n        }\n      } catch (e) {\n        botResponse = \"Erro ao se comunicar com o sistema de recomenda√ß√£o.\";\n      }\n    } else if (action.startsWith('adicionar_')) {\n        const nomePizza = action.replace('adicionar_', '');\n        const infoPizza = CARDAPIO[nomePizza as keyof typeof CARDAPIO];\n        if (infoPizza) {\n            setPizzaToAdd({ nome: nomePizza, preco: infoPizza.preco });\n            setExtrasSelecionados([]); // Limpa extras anteriores\n        } else {\n            botResponse = \"Erro: Pizza n√£o encontrada.\";\n        }\n    } else if (action === 'ver_carrinho') {\n        setShowCarrinho(true);\n        botResponse = \"\"; // O carrinho ser√° exibido separadamente\n    } else if (action === 'finalizar_pedido') {\n        if (carrinho.length === 0) {\n            botResponse = \"Seu carrinho est√° vazio. Adicione itens antes de finalizar.\";\n        } else {\n            try {\n                // --- AJUSTE: Itera sobre todos os itens do carrinho ---\n                for (const item of carrinho) {\n                    // --- CORRE√á√ÉO: Inclui nome_cliente e telefone_cliente ---\n                    const pedidoIndividual = {\n                        cliente_id: clienteInfo.id || 1, // Usar ID real do cliente quando dispon√≠vel\n                        nome_cliente: clienteInfo.nome, // <-- ADICIONADO\n                        telefone_cliente: clienteInfo.telefone, // <-- ADICIONADO\n                        pizza: item.nome,\n                        extras: item.extras\n                    };\n                    const resp = await salvarPedido(pedidoIndividual); // <-- Chamada com objeto correto\n                    if (!resp.sucesso) {\n                        throw new Error(`Erro ao confirmar pedido de ${item.nome}: ${resp.erro}`);\n                    }\n                    setMessages(prev => [...prev, { id: Date.now(), text: `‚úÖ Pedido de ${item.nome} confirmado!`, type: 'info', timestamp: new Date() }]);\n                }\n                botResponse = `‚úÖ Pedido com ${carrinho.length} itens confirmado! Total: R$ ${totalCarrinho.toFixed(2)}`;\n                // Limpa o carrinho\n                setCarrinho([]);\n                setShowCarrinho(false);\n                // --- ADICIONAR ESTA LINHA ---\n                // Adiciona mensagem com link do WhatsApp ao chat\n                setMessages(prev => [...prev, { id: Date.now() + 1000, text: \"Clique aqui para confirmar via WhatsApp\", type: 'info', timestamp: new Date() }]);\n                // -------------------------\n            } catch (e: any) {\n                botResponse = `Erro ao confirmar pedido: ${e.message || e}`;\n            }\n        }\n    } else if (action === 'ajuda') {\n      botResponse = \"Voc√™ pode me pedir para:\\n- Mostrar o card√°pio\\n- Fazer uma recomenda√ß√£o\\n- Ver ou finalizar seu pedido\\n- Digite o que deseja!\";\n    }\n\n    if (botResponse) {\n      setMessages(prev => [...prev, { id: Date.now() + 1, text: botResponse, type: 'bot', timestamp: new Date() }]);\n    }\n    setLoading(false);\n  };\n\n  // --- Fun√ß√£o para adicionar item ao carrinho ---\n  const handleAdicionarAoCarrinho = () => {\n    if (pizzaToAdd) {\n        const precoExtras = extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e as keyof typeof EXTRAS] || 0), 0);\n        const precoTotal = pizzaToAdd.preco + precoExtras;\n\n        const novoItem: CarrinhoItem = {\n            id: Date.now(), // ID √∫nico baseado em timestamp\n            nome: pizzaToAdd.nome,\n            precoBase: pizzaToAdd.preco,\n            extras: [...extrasSelecionados],\n            precoTotal: precoTotal\n        };\n\n        setCarrinho(prev => [...prev, novoItem]);\n        setPizzaToAdd(null); // Fecha o modal/√°rea de adi√ß√£o\n        setExtrasSelecionados([]); // Limpa extras selecionados\n        setMessages(prev => [...prev, { id: Date.now(), text: `‚úÖ ${pizzaToAdd.nome} adicionada ao carrinho!`, type: 'info', timestamp: new Date() }]);\n    }\n  };\n\n  // --- Fun√ß√£o para remover item do carrinho ---\n  const handleRemoverDoCarrinho = (id: number) => {\n    setCarrinho(prev => prev.filter(item => item.id !== id));\n  };\n\n  // --- Fun√ß√£o para lidar com o envio de mensagens ---\n  const handleSendMessage = async () => {\n    if (!inputText.trim()) return;\n\n    const userMessage: Message = { id: Date.now(), text: inputText, type: 'user', timestamp: new Date() };\n    setMessages(prev => [...prev, userMessage]);\n    setInputText('');\n    setLoading(true);\n\n    // --- L√≥gica de IA Simples ---\n    let botResponse = \"\";\n    const lowerText = inputText.toLowerCase();\n\n    if (showClienteForm) {\n      // Se ainda n√£o coletou info, ignora comandos e pede info\n      botResponse = \"Para continuar, por favor, preencha seu nome, telefone e endere√ßo.\";\n    } else if (lowerText.includes(\"ol√°\") || lowerText.includes(\"oi\") || lowerText.includes(\"bom dia\") || lowerText.includes(\"boa tarde\") || lowerText.includes(\"boa noite\")) {\n      botResponse = `Ol√° ${clienteInfo.nome}! üòä Como posso te ajudar?`;\n      // Adiciona op√ß√µes de a√ß√£o ap√≥s saudar\n      setMessages(prev => [\n        ...prev,\n        { id: Date.now() + 1, text: botResponse, type: 'bot', timestamp: new Date() },\n        { id: Date.now() + 2, type: 'action', options: [\n          { text: \"Ver Card√°pio\", action: 'ver_cardapio' },\n          { text: \"Receber Recomenda√ß√£o\", action: 'recomendar' },\n          { text: \"Ver Carrinho\", action: 'ver_carrinho' },\n          { text: \"Ajuda\", action: 'ajuda' }\n        ], timestamp: new Date() }\n      ]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    } else if (lowerText.includes(\"card√°pio\") || lowerText.includes(\"ver card√°pio\") || lowerText.includes(\"op√ß√µes\") || lowerText.includes(\"quais pizzas\") || lowerText.includes(\"o que voc√™s t√™m\")) {\n      // Exibe o card√°pio como mensagens separadas com bot√µes\n      botResponse = \"Claro! Aqui est√° nosso card√°pio. Clique em 'Adicionar ao Carrinho' para escolher uma pizza.\\n\\n\";\n      const cardapioMessages: Message[] = Object.entries(CARDAPIO).map(([nome, info], index) => ({\n        id: Date.now() + index,\n        type: 'cardapio',\n        timestamp: new Date(),\n        pizza: {\n          nome: nome,\n          ingredientes: info.ingredientes,\n          preco: info.preco\n        },\n        options: [{ text: \"Adicionar ao Carrinho\", action: `adicionar_${nome}` }] // Bot√£o para adicionar\n      }));\n      setMessages(prev => [...prev, { id: Date.now() + 1000, text: botResponse, type: 'bot', timestamp: new Date() }, ...cardapioMessages]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    } else if (lowerText.includes(\"recomendar\") || lowerText.includes(\"sugira\") || lowerText.includes(\"qual pizza\")) {\n      // Chama a API de recomenda√ß√£o\n      try {\n        const resp = await recomendarPizza(1); // Usa ID fixo ou gerado\n        if (!resp.erro) {\n          botResponse = `Recomendo a pizza de **${resp.pizza_recomendada}**!\\nMotivo: ${resp.motivo}\\nIngredientes: ${resp.ingredientes.join(', ')}.`;\n          // Bot√£o para adicionar a pizza recomendada\n          setMessages(prev => [\n            ...prev,\n            { id: Date.now() + 1, text: botResponse, type: 'bot', timestamp: new Date() },\n            { id: Date.now() + 2, type: 'action', options: [{ text: \"Adicionar ao Carrinho\", action: `adicionar_${resp.pizza_recomendada}` }], timestamp: new Date() }\n          ]);\n          botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n        } else {\n          botResponse = `Erro na recomenda√ß√£o: ${resp.detalhe}`;\n        }\n      } catch (e) {\n        botResponse = \"Erro ao se comunicar com o sistema de recomenda√ß√£o.\";\n      }\n    } else if (lowerText.includes(\"carrinho\") || lowerText.includes(\"ver carrinho\")) {\n        setShowCarrinho(true);\n        botResponse = \"\"; // O carrinho ser√° exibido separadamente\n    } else if (lowerText.includes(\"pedido\") || lowerText.includes(\"status\")) {\n      if (pedidoStatus) {\n        botResponse = pedidoStatus;\n      } else {\n        botResponse = \"Ainda n√£o h√° um pedido em andamento.\";\n      }\n    } else if (lowerText.includes(\"ajuda\")) {\n      botResponse = \"Voc√™ pode me pedir para:\\n- Mostrar o card√°pio\\n- Fazer uma recomenda√ß√£o\\n- Ver ou finalizar seu pedido\\n- Digite o que deseja!\";\n      // Adiciona op√ß√µes de a√ß√£o para facilitar\n      setMessages(prev => [\n        ...prev,\n        { id: Date.now() + 1, text: botResponse, type: 'bot', timestamp: new Date() },\n        { id: Date.now() + 2, type: 'action', options: [\n          { text: \"Ver Card√°pio\", action: 'ver_cardapio' },\n          { text: \"Receber Recomenda√ß√£o\", action: 'recomendar' },\n          { text: \"Ver Carrinho\", action: 'ver_carrinho' },\n          { text: \"Ajuda\", action: 'ajuda' }\n        ], timestamp: new Date() }\n      ]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    } else {\n      botResponse = \"Desculpe, n√£o entendi. Posso te ajudar com o card√°pio, uma recomenda√ß√£o, informa√ß√µes sobre seu pedido, ou digite 'ajuda' para ver comandos dispon√≠veis.\";\n      // Adiciona op√ß√µes de a√ß√£o para facilitar\n      setMessages(prev => [\n        ...prev,\n        { id: Date.now() + 1, text: botResponse, type: 'bot', timestamp: new Date() },\n        { id: Date.now() + 2, type: 'action', options: [\n          { text: \"Ver Card√°pio\", action: 'ver_cardapio' },\n          { text: \"Receber Recomenda√ß√£o\", action: 'recomendar' },\n          { text: \"Ver Carrinho\", action: 'ver_carrinho' },\n          { text: \"Ajuda\", action: 'ajuda' }\n        ], timestamp: new Date() }\n      ]);\n      botResponse = \"\"; // N√£o adicionar mensagem de texto novamente\n    }\n\n    if (botResponse) {\n      setMessages(prev => [...prev, { id: Date.now() + 1, text: botResponse, type: 'bot', timestamp: new Date() }]);\n    }\n    setLoading(false);\n  };\n\n  // --- Fun√ß√£o para lidar com o envio do formul√°rio de cliente ---\n  const handleClienteSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (clienteInfo.nome && clienteInfo.telefone && clienteInfo.endereco) {\n      // Gera um ID de cliente simples (em produ√ß√£o, viria do backend)\n      const novoClienteId = Date.now() % 10000;\n      setClienteInfo(prev => ({ ...prev, id: novoClienteId })); // <-- Atualiza o estado com o ID\n      setShowClienteForm(false);\n      setMessages(prev => [\n        ...prev,\n        { id: Date.now(), text: `Obrigado, ${clienteInfo.nome}! Seu ID √© ${novoClienteId}. Como posso te ajudar agora?`, type: 'bot', timestamp: new Date() },\n        { id: Date.now() + 1, type: 'action', options: [\n          { text: \"Ver Card√°pio\", action: 'ver_cardapio' },\n          { text: \"Receber Recomenda√ß√£o\", action: 'recomendar' },\n          { text: \"Ver Carrinho\", action: 'ver_carrinho' },\n          { text: \"Ajuda\", action: 'ajuda' }\n        ], timestamp: new Date() }\n      ]);\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      {/* Formul√°rio de Informa√ß√µes do Cliente */}\n      {showClienteForm && (\n        <form onSubmit={handleClienteSubmit} style={styles.clienteForm}>\n          <h4 style={styles.formTitle}>_infos do Cliente</h4>\n          <input\n            type=\"text\"\n            placeholder=\"Nome completo\"\n            value={clienteInfo.nome}\n            onChange={(e) => setClienteInfo({ ...clienteInfo, nome: e.target.value })}\n            style={styles.input}\n            required\n          />\n          <input\n            type=\"tel\"\n            placeholder=\"Telefone (ex: 11999999999)\"\n            value={clienteInfo.telefone}\n            onChange={(e) => setClienteInfo({ ...clienteInfo, telefone: e.target.value })}\n            style={styles.input}\n            required\n          />\n          <textarea\n            placeholder=\"Endere√ßo completo\"\n            value={clienteInfo.endereco}\n            onChange={(e) => setClienteInfo({ ...clienteInfo, endereco: e.target.value })}\n            style={{ ...styles.input, minHeight: '60px' }}\n            required\n          />\n          <button type=\"submit\" style={styles.confirmButton}>Enviar</button>\n        </form>\n      )}\n\n      {/* √Årea de Chat */}\n      {!showClienteForm && (\n        <>\n          <div style={styles.chatArea}>\n            {messages.map((msg) => (\n              <ChatMessage\n                key={msg.id}\n                message={msg}\n                onOptionClick={handleOptionClick}\n                clienteInfo={clienteInfo} // Passa o objeto clienteInfo como prop (ainda necess√°rio para a mensagem do WhatsApp)\n                // numeroTelefoneCliente={clienteInfo.telefone} // <-- COMENTADO: N√£o √© mais necess√°rio passar o n√∫mero do cliente\n              />\n            ))}\n            {loading && <div style={styles.loading}>Pizzaria IA est√° digitando...</div>}\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Se√ß√£o do Carrinho (vis√≠vel quando showCarrinho √© true) */}\n          {showCarrinho && carrinho.length > 0 && (\n            <div style={styles.carrinhoArea}>\n              <h4 style={styles.carrinhoTitulo}>üõí Seu Carrinho</h4>\n              {carrinho.map(item => (\n                <div key={item.id} style={styles.itemCarrinho}>\n                  <div style={styles.itemInfo}>\n                    <strong>{item.nome}</strong>\n                    <br />\n                    <small>Pre√ßo Base: R$ {item.precoBase.toFixed(2)}</small>\n                    {item.extras.length > 0 && (\n                      <small><br />Extras: {item.extras.join(', ')} (+R$ {item.extras.reduce((sum, e) => sum + (EXTRAS[e as keyof typeof EXTRAS] || 0), 0).toFixed(2)})</small>\n                    )}\n                    <br />\n                    <strong>Total: R$ {item.precoTotal.toFixed(2)}</strong>\n                  </div>\n                  <button onClick={() => handleRemoverDoCarrinho(item.id)} style={styles.removerButton}>Remover</button>\n                </div>\n              ))}\n              <div style={styles.totalCarrinho}>\n                <strong>Total do Pedido: R$ {totalCarrinho.toFixed(2)}</strong>\n              </div>\n              <button onClick={() => handleOptionClick('finalizar_pedido')} style={styles.finalizarButton}>\n                Finalizar Pedido\n              </button>\n              <button onClick={() => setShowCarrinho(false)} style={styles.voltarButton}>\n                Continuar Comprando\n              </button>\n            </div>\n          )}\n\n          {/* Bot√£o para ver carrinho quando vazio ou oculto */}\n          {!showCarrinho && carrinho.length > 0 && (\n            <button onClick={() => setShowCarrinho(true)} style={styles.verCarrinhoButton}>\n              Ver Carrinho ({carrinho.length} itens) - R$ {totalCarrinho.toFixed(2)}\n            </button>\n          )}\n\n          {/* Modal para selecionar extras ao adicionar pizza */}\n          {pizzaToAdd && (\n            <div style={styles.modalOverlay}>\n              <div style={styles.modalContent}>\n                <h4>Adicionar ao Carrinho: {pizzaToAdd.nome}</h4>\n                <p>Pre√ßo Base: R$ {pizzaToAdd.preco.toFixed(2)}</p>\n                <div>\n                  <h5>Extras (opcional):</h5>\n                  {Object.entries(EXTRAS).map(([extra, preco]) => (\n                    <label key={extra} style={styles.extraLabel}>\n                      <input\n                        type=\"checkbox\"\n                        checked={extrasSelecionados.includes(extra)}\n                        onChange={(e) => {\n                          if (e.target.checked) {\n                            setExtrasSelecionados(prev => [...prev, extra]);\n                          } else {\n                            setExtrasSelecionados(prev => prev.filter(e => e !== extra));\n                          }\n                        }}\n                      /> {extra} (+R$ {preco.toFixed(2)})\n                    </label>\n                  ))}\n                </div>\n                <div style={styles.modalButtons}>\n                  <button onClick={() => setPizzaToAdd(null)} style={styles.cancelarButton}>Cancelar</button>\n                  <button onClick={handleAdicionarAoCarrinho} style={styles.adicionarButton}>Adicionar (R$ ${(pizzaToAdd.preco + extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e as keyof typeof EXTRAS] || 0), 0)).toFixed(2)})</button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Input de Mensagem */}\n          <div style={styles.inputArea}>\n            <input\n              type=\"text\"\n              value={inputText}\n              onChange={(e) => setInputText(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n              placeholder=\"Digite sua mensagem...\"\n              style={styles.input}\n            />\n            <button onClick={handleSendMessage} style={styles.sendButton}>Enviar</button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\n// --- Componente para exibir uma mensagem no chat ---\nconst ChatMessage: React.FC<{ message: Message; onOptionClick: (action: string) => void; clienteInfo: { nome: string; telefone: string; endereco: string; id?: number } }> = ({ message, onOptionClick, clienteInfo }) => { // <-- Adicionado clienteInfo √†s props e desestruturado\n  const isUser = message.type === 'user';\n  const isPedido = message.type === 'pedido';\n  const isBot = message.type === 'bot';\n  const isInfo = message.type === 'info';\n  const isCardapio = message.type === 'cardapio';\n  const isAction = message.type === 'action';\n\n  let bgColor = '#f1f1f1';\n  let align = 'flex-start';\n  let fontWeight = 'normal';\n\n  if (isUser) {\n    bgColor = '#d32f2f';\n    align = 'flex-end';\n  } else if (isPedido) {\n    bgColor = '#4caf50';\n    fontWeight = 'bold';\n  } else if (isInfo) {\n    bgColor = '#2196f3';\n    fontWeight = 'bold';\n  } else if (isBot) {\n    bgColor = '#e0e0e0';\n  } else if (isCardapio) {\n    bgColor = '#fff3e0'; // Cor suave para itens do card√°pio\n    fontWeight = 'normal';\n  } else if (isAction) {\n    bgColor = 'transparent'; // Bot√µes de a√ß√£o\n    fontWeight = 'bold';\n  }\n\n  // --- Fun√ß√£o para lidar com o clique no link do WhatsApp ---\n  const handleCliqueWhatsApp = (numeroTelefone: string) => {\n    // Reaproveita a fun√ß√£o definida em PizzaRecommender ou move para um utilit√°rio\n    // Por simplicidade, redefinimos aqui.\n    const numeroLimpo = numeroTelefone.replace(/\\D/g, '');\n    let numeroFormatado = numeroLimpo;\n    if (numeroLimpo.length === 10) {\n        numeroFormatado = '55' + numeroLimpo.substring(0, 2) + '9' + numeroLimpo.substring(2);\n    } else if (numeroLimpo.length === 11) {\n        numeroFormatado = '55' + numeroLimpo;\n    } else {\n         console.error(\"N√∫mero de telefone inv√°lido ou incompleto para formato internacional.\", numeroLimpo);\n         // Opcional: Adicionar mensagem de erro ao chat aqui tamb√©m\n         return;\n    }\n    // --- Agora 'clienteInfo' est√° dispon√≠vel no escopo ---\n    const mensagem = `Ol√° ${encodeURIComponent(clienteInfo.nome)}, seu pedido est√° pronto! Por favor, confirme o recebimento ou avise se precisa cancelar.\\n\\n1. Confirmar Recebimento\\n2. Cancelar Pedido\\n\\nDigite \"CONFIRMAR\" ou \"CANCELAR\".`;\n    // ---\n    const mensagemCodificada = encodeURIComponent(mensagem);\n    const link = `https://wa.me/${numeroFormatado}?text=${mensagemCodificada}`;\n    if (link) {\n        window.open(link, '_blank');\n    }\n  };\n\n  if (isCardapio && message.pizza) {\n    return (\n      <div style={{ display: 'flex', justifyContent: align, marginBottom: '8px' }}>\n        <div\n          style={{\n            padding: '8px 12px',\n            borderRadius: '12px',\n            backgroundColor: bgColor,\n            color: 'black',\n            maxWidth: '80%',\n            wordWrap: 'break-word',\n            fontWeight: fontWeight,\n          }}\n        >\n          <strong>{message.pizza.nome}</strong> - R$ {message.pizza.preco.toFixed(2)}\n          <br />\n          <small>{message.pizza.ingredientes}</small>\n          {/* Bot√£o de a√ß√£o para adicionar ao carrinho */}\n          {message.options && message.options.length > 0 && (\n            <div style={{ marginTop: '4px' }}>\n              <button\n                onClick={() => onOptionClick(message.options![0].action)}\n                style={{\n                  padding: '4px 8px',\n                  borderRadius: '8px',\n                  border: '1px solid #d32f2f',\n                  backgroundColor: 'white',\n                  color: '#d32f2f',\n                  cursor: 'pointer',\n                  fontSize: '12px',\n                  marginTop: '4px'\n                }}\n              >\n                {message.options[0].text}\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  if (isAction && message.options) {\n    return (\n      <div style={{ display: 'flex', justifyContent: 'center', gap: '8px', marginBottom: '8px', flexWrap: 'wrap' as const }}>\n        {message.options.map((opt, index) => (\n          <button\n            key={index}\n            onClick={() => onOptionClick(opt.action)}\n            style={{\n              padding: '6px 12px',\n              borderRadius: '20px',\n              border: '1px solid #d32f2f',\n              backgroundColor: 'white',\n              color: '#d32f2f',\n              cursor: 'pointer',\n              fontSize: '14px',\n            }}\n          >\n            {opt.text}\n          </button>\n        ))}\n      </div>\n    );\n  }\n\n  // --- L√≥gica para renderizar mensagem com bot√£o do WhatsApp ---\n  let conteudoMensagem: React.ReactNode = message.text; // <-- Corre√ß√£o: Defina o tipo como React.ReactNode\n\n  if (isInfo && message.text === \"Clique aqui para confirmar via WhatsApp\") {\n    conteudoMensagem = ( // <-- Agora √© poss√≠vel atribuir um Element JSX\n      <button\n        onClick={() => handleCliqueWhatsApp(NUMERO_ATENDIMENTO)} // <-- Chama a fun√ß√£o ajustada (usa constante)\n        style={{\n          padding: '6px 12px',\n          borderRadius: '8px',\n          border: '1px solid #25D366',\n          backgroundColor: '#25D366',\n          color: 'white',\n          cursor: 'pointer',\n          fontSize: '14px',\n          fontWeight: 'normal' as const,\n        }}\n      >\n        üì≤ Confirmar via WhatsApp\n      </button>\n    );\n  }\n\n  return (\n    <div style={{ display: 'flex', justifyContent: align, marginBottom: '8px' }}>\n      <div\n        style={{\n          padding: '8px 12px',\n          borderRadius: '12px',\n          backgroundColor: bgColor,\n          color: isUser ? 'white' : 'black',\n          maxWidth: '80%',\n          wordWrap: 'break-word',\n          fontWeight: fontWeight,\n        }}\n      >\n        {conteudoMensagem} {/* <-- Agora o tipo React.ReactNode √© compat√≠vel */}\n      </div>\n    </div>\n  );\n};\n\n// --- Estilos CSS em JS ---\nconst styles = {\n  container: {\n    fontFamily: 'Arial, sans-serif',\n    padding: '16px',\n    maxWidth: '400px',\n    margin: '0 auto',\n    display: 'flex',\n    flexDirection: 'column' as const,\n    height: '70vh',\n    backgroundColor: '#fff',\n    borderRadius: '12px',\n    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n    position: 'relative' as const, // Para o modal\n  },\n  clienteForm: {\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '8px',\n  },\n  formTitle: {\n    margin: '0 0 16px 0',\n    color: '#333',\n    fontSize: '18px',\n    fontWeight: 'bold' as const,\n  },\n  chatArea: {\n    flex: 1,\n    overflowY: 'auto' as const,\n    padding: '8px',\n    marginBottom: '8px',\n    backgroundColor: '#fafafa',\n    borderRadius: '8px',\n    border: '1px solid #eee',\n  },\n  carrinhoArea: {\n    padding: '12px',\n    backgroundColor: '#f9f9f9',\n    borderRadius: '8px',\n    border: '1px solid #ddd',\n    marginBottom: '8px',\n    maxHeight: '200px',\n    overflowY: 'auto' as const,\n  },\n  carrinhoTitulo: {\n    margin: '0 0 8px 0',\n    fontSize: '16px',\n    fontWeight: 'bold' as const,\n    color: '#333',\n  },\n  itemCarrinho: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '6px 0',\n    borderBottom: '1px solid #eee',\n  },\n  itemInfo: {\n    flex: 1,\n    fontSize: '14px',\n  },\n  removerButton: {\n    padding: '4px 8px',\n    backgroundColor: '#f44336',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontSize: '12px',\n  },\n  totalCarrinho: {\n    textAlign: 'right' as const,\n    padding: '8px 0',\n    fontWeight: 'bold' as const,\n    borderTop: '1px solid #ddd',\n    marginTop: '8px',\n  },\n  finalizarButton: {\n    width: '100%',\n    padding: '10px',\n    backgroundColor: '#4caf50',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n    marginTop: '8px',\n  },\n  voltarButton: {\n    width: '100%',\n    padding: '8px',\n    backgroundColor: '#e0e0e0',\n    color: 'black',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    marginTop: '4px',\n  },\n  verCarrinhoButton: {\n    width: '100%',\n    padding: '8px',\n    backgroundColor: '#ff9800',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n    marginBottom: '8px',\n  },\n  modalOverlay: {\n    position: 'absolute' as const,\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 10,\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    padding: '16px',\n    borderRadius: '8px',\n    width: '90%',\n    maxWidth: '400px',\n  },\n  extraLabel: {\n    display: 'block' as const,\n    marginBottom: '4px',\n  },\n  modalButtons: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginTop: '12px',\n  },\n  cancelarButton: {\n    padding: '8px 16px',\n    backgroundColor: '#e0e0e0',\n    color: 'black',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n  },\n  adicionarButton: {\n    padding: '8px 16px',\n    backgroundColor: '#4caf50',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    cursor: 'pointer',\n  },\n  inputArea: {\n    display: 'flex',\n    gap: '8px',\n  },\n  input: {\n    flex: 1,\n    padding: '10px',\n    borderRadius: '8px',\n    border: '1px solid #ccc',\n    fontSize: '16px',\n  },\n  confirmButton: {\n    padding: '10px',\n    background: '#4caf50',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    fontSize: '16px',\n    cursor: 'pointer',\n  },\n  sendButton: {\n    padding: '10px 15px',\n    background: '#d32f2f',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    fontSize: '16px',\n    cursor: 'pointer',\n  },\n  loading: {\n    textAlign: 'center' as const,\n    padding: '8px',\n    color: '#666',\n    fontStyle: 'italic',\n  },\n};\n\nexport default PizzaRecommender;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}