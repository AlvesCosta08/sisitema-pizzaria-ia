{"ast":null,"code":"var _jsxFileName = \"/home/codigoquatro/Documentos/pizzaria-ia/frontend/src/components/PizzaRecommender.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { recomendarPizza, salvarPedido } from '../services/api';\nimport { CARDAPIO, EXTRAS } from '../cardapio-data';\n\n// --- Tipos para mensagens do chat ---\n\n// --- Tipos para o Carrinho ---\n\n// --- Tipos para Cliente ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NUMERO_ATENDIMENTO = '5585988978980';\nconst PizzaRecommender = () => {\n  _s();\n  // --- Estados para dados do cliente ---\n  const [clienteInfo, setClienteInfo] = useState({\n    nome: '',\n    telefone: '',\n    endereco: '',\n    email: ''\n  });\n  const [showClienteForm, setShowClienteForm] = useState(true);\n\n  // --- Estados para chat e fluxo ---\n  const [messages, setMessages] = useState([]);\n  const [inputText, setInputText] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // --- Estados para o Carrinho ---\n  const [carrinho, setCarrinho] = useState([]);\n  const [showCarrinho, setShowCarrinho] = useState(false);\n\n  // --- Estados para Adicionar ao Carrinho ---\n  const [pizzaToAdd, setPizzaToAdd] = useState(null);\n  const [extrasSelecionados, setExtrasSelecionados] = useState([]);\n  const [quantidade, setQuantidade] = useState(1);\n\n  // --- Ref para auto-scroll ---\n  const messagesEndRef = useRef(null);\n\n  // --- Rola para a √∫ltima mensagem ---\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    // Mensagem de boas-vindas inicial\n    setMessages([{\n      id: 1,\n      text: \"üçï Ol√°! Bem-vindo √† Pizzaria IA! Sou seu assistente virtual. Vamos come√ßar com seu cadastro para uma experi√™ncia personalizada.\",\n      type: 'bot',\n      timestamp: new Date()\n    }]);\n\n    // Carregar carrinho do localStorage\n    const carrinhoSalvo = localStorage.getItem('pizzaria-carrinho');\n    if (carrinhoSalvo) {\n      setCarrinho(JSON.parse(carrinhoSalvo));\n    }\n    scrollToBottom();\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Salvar carrinho no localStorage quando mudar\n  useEffect(() => {\n    localStorage.setItem('pizzaria-carrinho', JSON.stringify(carrinho));\n  }, [carrinho]);\n\n  // --- Calcula total do carrinho ---\n  const totalCarrinho = carrinho.reduce((sum, item) => sum + item.precoTotal * item.quantidade, 0);\n  const totalItens = carrinho.reduce((sum, item) => sum + item.quantidade, 0);\n\n  // --- Fun√ß√£o para lidar com a√ß√µes de bot√µes ---\n  const handleOptionClick = async action => {\n    setLoading(true);\n    const userMessage = {\n      id: Date.now(),\n      text: action.replace(/_/g, ' '),\n      type: 'user',\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    let botResponse = \"\";\n    if (action === 'ver_cardapio') {\n      botResponse = \"Claro! Aqui est√° nosso card√°pio completo. Clique em qualquer pizza para adicionar ao carrinho. üçï\";\n      const cardapioMessages = Object.entries(CARDAPIO).map(([nome, info], index) => ({\n        id: Date.now() + index,\n        type: 'cardapio',\n        timestamp: new Date(),\n        pizza: {\n          nome: nome,\n          ingredientes: info.ingredientes,\n          preco: info.preco\n        },\n        options: [{\n          text: \"üõí Adicionar\",\n          action: `adicionar_${nome}`\n        }]\n      }));\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1000,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }, ...cardapioMessages]);\n      botResponse = \"\";\n    } else if (action === 'recomendar') {\n      try {\n        const resp = await recomendarPizza(clienteInfo.id || 1);\n        if (!resp.erro) {\n          botResponse = `üéØ **Recomenda√ß√£o Especial para Voc√™!**\\n\\n**${resp.pizza_recomendada}**\\nüìù ${resp.motivo}\\nüçÖ Ingredientes: ${resp.ingredientes.join(', ')}`;\n          setMessages(prev => [...prev, {\n            id: Date.now() + 1,\n            text: botResponse,\n            type: 'bot',\n            timestamp: new Date()\n          }, {\n            id: Date.now() + 2,\n            type: 'action',\n            options: [{\n              text: \"üõí Adicionar Recomenda√ß√£o\",\n              action: `adicionar_${resp.pizza_recomendada}`\n            }, {\n              text: \"üìã Ver Card√°pio\",\n              action: 'ver_cardapio'\n            }],\n            timestamp: new Date()\n          }]);\n          botResponse = \"\";\n        } else {\n          botResponse = `‚ùå Erro na recomenda√ß√£o: ${resp.detalhe}`;\n        }\n      } catch (e) {\n        botResponse = \"‚ö†Ô∏è Erro ao conectar com o sistema de recomenda√ß√£o.\";\n      }\n    } else if (action.startsWith('adicionar_')) {\n      const nomePizza = action.replace('adicionar_', '');\n      const infoPizza = CARDAPIO[nomePizza];\n      if (infoPizza) {\n        setPizzaToAdd({\n          nome: nomePizza,\n          preco: infoPizza.preco\n        });\n        setExtrasSelecionados([]);\n        setQuantidade(1);\n      } else {\n        botResponse = \"‚ùå Erro: Pizza n√£o encontrada no card√°pio.\";\n      }\n    } else if (action === 'ver_carrinho') {\n      setShowCarrinho(true);\n      botResponse = \"\";\n    } else if (action === 'finalizar_pedido') {\n      if (carrinho.length === 0) {\n        botResponse = \"üõí Seu carrinho est√° vazio. Adicione algumas pizzas deliciosas primeiro!\";\n      } else {\n        try {\n          for (const item of carrinho) {\n            for (let i = 0; i < item.quantidade; i++) {\n              const pedidoIndividual = {\n                cliente_id: clienteInfo.id || Date.now() % 10000,\n                nome_cliente: clienteInfo.nome,\n                telefone_cliente: clienteInfo.telefone,\n                pizza: item.nome,\n                extras: item.extras\n              };\n              await salvarPedido(pedidoIndividual);\n            }\n          }\n          botResponse = `‚úÖ **Pedido Confirmado!**\\n\\nüì¶ ${totalItens} itens\\nüí∞ Total: R$ ${totalCarrinho.toFixed(2)}\\n\\nAgora clique abaixo para finalizar via WhatsApp:`;\n          setMessages(prev => [...prev, {\n            id: Date.now(),\n            text: botResponse,\n            type: 'info',\n            timestamp: new Date()\n          }, {\n            id: Date.now() + 1,\n            text: \"üì± Clique para confirmar via WhatsApp\",\n            type: 'info',\n            timestamp: new Date()\n          }]);\n          setCarrinho([]);\n          setShowCarrinho(false);\n          localStorage.removeItem('pizzaria-carrinho');\n          botResponse = \"\";\n        } catch (e) {\n          botResponse = `‚ùå Erro ao confirmar pedido: ${e.message || e}`;\n        }\n      }\n    } else if (action === 'limpar_carrinho') {\n      setCarrinho([]);\n      setShowCarrinho(false);\n      localStorage.removeItem('pizzaria-carrinho');\n      botResponse = \"üóëÔ∏è Carrinho limpo! Que tal dar uma olhada no nosso card√°pio?\";\n    } else if (action === 'continuar_comprando') {\n      setShowCarrinho(false);\n      botResponse = \"üõçÔ∏è Continue explorando nosso card√°pio!\";\n    } else if (action === 'ajuda') {\n      botResponse = \"ü§ñ **Como posso ajudar?**\\n\\n‚Ä¢ üìã **Ver Card√°pio** - Ver todas as pizzas\\n‚Ä¢ üéØ **Recomenda√ß√£o** - Sugest√£o personalizada\\n‚Ä¢ üõí **Carrinho** - Ver seus itens\\n‚Ä¢ üí¨ **Digite** - Converse comigo!\\n\\n√â s√≥ clicar nos bot√µes ou digitar o que precisa!\";\n    } else {\n      botResponse = \"ü§î N√£o entendi completamente. Use os bot√µes abaixo ou digite 'ajuda' para ver op√ß√µes.\";\n    }\n    if (botResponse) {\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }]);\n    }\n    setLoading(false);\n  };\n\n  // --- Fun√ß√£o para adicionar item ao carrinho ---\n  const handleAdicionarAoCarrinho = () => {\n    if (pizzaToAdd) {\n      const precoExtras = extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e] || 0), 0);\n      const precoTotal = pizzaToAdd.preco + precoExtras;\n\n      // Verifica se j√° existe item igual no carrinho\n      const itemExistenteIndex = carrinho.findIndex(item => item.nome === pizzaToAdd.nome && JSON.stringify(item.extras) === JSON.stringify(extrasSelecionados));\n      if (itemExistenteIndex > -1) {\n        // Atualiza quantidade do item existente\n        const novoCarrinho = [...carrinho];\n        novoCarrinho[itemExistenteIndex].quantidade += quantidade;\n        setCarrinho(novoCarrinho);\n      } else {\n        // Adiciona novo item\n        const novoItem = {\n          id: Date.now(),\n          nome: pizzaToAdd.nome,\n          precoBase: pizzaToAdd.preco,\n          extras: [...extrasSelecionados],\n          precoTotal: precoTotal,\n          quantidade: quantidade\n        };\n        setCarrinho(prev => [...prev, novoItem]);\n      }\n      setPizzaToAdd(null);\n      setExtrasSelecionados([]);\n      setQuantidade(1);\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        text: `‚úÖ ${quantidade}x ${pizzaToAdd.nome} adicionada ao carrinho! ${extrasSelecionados.length > 0 ? `(Extras: ${extrasSelecionados.join(', ')})` : ''}`,\n        type: 'info',\n        timestamp: new Date()\n      }]);\n    }\n  };\n\n  // --- Fun√ß√£o para remover item do carrinho ---\n  const handleRemoverDoCarrinho = id => {\n    setCarrinho(prev => prev.filter(item => item.id !== id));\n  };\n\n  // --- Fun√ß√£o para atualizar quantidade ---\n  const handleAtualizarQuantidade = (id, novaQuantidade) => {\n    if (novaQuantidade < 1) return;\n    setCarrinho(prev => prev.map(item => item.id === id ? {\n      ...item,\n      quantidade: novaQuantidade\n    } : item));\n  };\n\n  // --- Fun√ß√£o para lidar com o envio de mensagens ---\n  const handleSendMessage = async () => {\n    if (!inputText.trim()) return;\n    const userMessage = {\n      id: Date.now(),\n      text: inputText,\n      type: 'user',\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputText('');\n    setLoading(true);\n\n    // --- L√≥gica de IA Simples ---\n    let botResponse = \"\";\n    const lowerText = inputText.toLowerCase();\n    if (showClienteForm) {\n      botResponse = \"Por favor, complete seu cadastro primeiro para podermos continuar! üòä\";\n    } else if (/(ol√°|oi|ola|bom dia|boa tarde|boa noite)/i.test(lowerText)) {\n      const saudacao = `Ol√° ${clienteInfo.nome}! üòä √â um prazer ter voc√™ aqui! Como posso ajudar?`;\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: saudacao,\n        type: 'bot',\n        timestamp: new Date()\n      }, {\n        id: Date.now() + 2,\n        type: 'action',\n        options: [{\n          text: \"üìã Card√°pio\",\n          action: 'ver_cardapio'\n        }, {\n          text: \"üéØ Recomenda√ß√£o\",\n          action: 'recomendar'\n        }, {\n          text: `üõí Carrinho (${totalItens})`,\n          action: 'ver_carrinho'\n        }],\n        timestamp: new Date()\n      }]);\n      botResponse = \"\";\n    } else if (/(card√°pio|cardapio|menu|op√ß√µes|o que tem|pizzas)/i.test(lowerText)) {\n      handleOptionClick('ver_cardapio');\n      botResponse = \"\";\n    } else if (/(recomendar|sugerir|sugira|qual pizza|n√£o sei|indica)/i.test(lowerText)) {\n      handleOptionClick('recomendar');\n      botResponse = \"\";\n    } else if (/(carrinho|pedido|meu pedido|itens)/i.test(lowerText)) {\n      handleOptionClick('ver_carrinho');\n      botResponse = \"\";\n    } else if (/(obrigado|obrigada|valeu|obrigado)/i.test(lowerText)) {\n      botResponse = `De nada, ${clienteInfo.nome}! üòä Estou aqui para ajudar!`;\n    } else if (/(pre√ßo|preco|quanto custa|valor)/i.test(lowerText)) {\n      botResponse = \"Temos pizzas a partir de R$ 25,00! Clique em 'Ver Card√°pio' para ver todos os pre√ßos e op√ß√µes. üçï\";\n    } else if (/(tempo|entrega|demora|quando chega)/i.test(lowerText)) {\n      botResponse = \"‚è±Ô∏è Nosso tempo de entrega √© de 30-45 minutos! Pedidos acima de R$ 50,00 t√™m entrega gr√°tis!\";\n    } else if (/(promo√ß√£o|promocao|desconto|oferta)/i.test(lowerText)) {\n      botResponse = \"üéÅ **Promo√ß√µes da Semana:**\\n‚Ä¢ 2 pizzas grandes + refrigerante: 15% off\\n‚Ä¢ Pedidos acima de R$ 80: entrega gr√°tis\\n‚Ä¢ Todas as segundas: 20% off em pizzas tradicionais!\";\n    } else {\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: \"ü§ñ **Assistente Pizzaria IA**\\n\\nDesculpe, n√£o entendi completamente. Aqui est√£o as op√ß√µes dispon√≠veis:\",\n        type: 'bot',\n        timestamp: new Date()\n      }, {\n        id: Date.now() + 2,\n        type: 'action',\n        options: [{\n          text: \"üìã Ver Card√°pio\",\n          action: 'ver_cardapio'\n        }, {\n          text: \"üéØ Receber Recomenda√ß√£o\",\n          action: 'recomendar'\n        }, {\n          text: `üõí Ver Carrinho (${totalItens})`,\n          action: 'ver_carrinho'\n        }, {\n          text: \"‚ùì Ajuda\",\n          action: 'ajuda'\n        }],\n        timestamp: new Date()\n      }]);\n      botResponse = \"\";\n    }\n    if (botResponse) {\n      setMessages(prev => [...prev, {\n        id: Date.now() + 1,\n        text: botResponse,\n        type: 'bot',\n        timestamp: new Date()\n      }]);\n    }\n    setLoading(false);\n  };\n\n  // --- Fun√ß√£o para lidar com o envio do formul√°rio de cliente ---\n  const handleClienteSubmit = e => {\n    e.preventDefault();\n    if (clienteInfo.nome && clienteInfo.telefone && clienteInfo.endereco) {\n      const novoClienteId = Date.now() % 10000;\n      setClienteInfo(prev => ({\n        ...prev,\n        id: novoClienteId\n      }));\n      setShowClienteForm(false);\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        text: `‚úÖ **Cadastro Conclu√≠do!**\\n\\nObrigado, ${clienteInfo.nome}! Seu ID √© #${novoClienteId}.\\n\\nAgora, como posso te ajudar? üòä`,\n        type: 'bot',\n        timestamp: new Date()\n      }, {\n        id: Date.now() + 1,\n        type: 'action',\n        options: [{\n          text: \"üìã Ver Card√°pio\",\n          action: 'ver_cardapio'\n        }, {\n          text: \"üéØ Receber Recomenda√ß√£o\",\n          action: 'recomendar'\n        }, {\n          text: \"‚ùì Ajuda\",\n          action: 'ajuda'\n        }],\n        timestamp: new Date()\n      }]);\n    }\n  };\n\n  // --- Fun√ß√£o para WhatsApp ---\n  const handleWhatsAppClick = () => {\n    const numeroLimpo = NUMERO_ATENDIMENTO.replace(/\\D/g, '');\n    let mensagem = `Ol√°! Gostaria de confirmar meu pedido:\\n\\n`;\n    carrinho.forEach(item => {\n      mensagem += `‚Ä¢ ${item.quantidade}x ${item.nome}`;\n      if (item.extras.length > 0) {\n        mensagem += ` (Extras: ${item.extras.join(', ')})`;\n      }\n      mensagem += ` - R$ ${(item.precoTotal * item.quantidade).toFixed(2)}\\n`;\n    });\n    mensagem += `\\nüí∞ **Total: R$ ${totalCarrinho.toFixed(2)}**\\n`;\n    mensagem += `üë§ **Cliente:** ${clienteInfo.nome}\\n`;\n    mensagem += `üìû **Telefone:** ${clienteInfo.telefone}\\n`;\n    mensagem += `üìç **Endere√ßo:** ${clienteInfo.endereco}\\n\\n`;\n    mensagem += `Pedido realizado via Pizzaria IA üçï`;\n    const mensagemCodificada = encodeURIComponent(mensagem);\n    const link = `https://wa.me/${numeroLimpo}?text=${mensagemCodificada}`;\n    window.open(link, '_blank');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [showClienteForm && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleClienteSubmit,\n      style: styles.clienteForm,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: styles.formTitle,\n        children: \"\\uD83D\\uDC64 Cadastro do Cliente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Nome completo\",\n        value: clienteInfo.nome,\n        onChange: e => setClienteInfo({\n          ...clienteInfo,\n          nome: e.target.value\n        }),\n        style: styles.input,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"tel\",\n        placeholder: \"Telefone (ex: 11 99999-9999)\",\n        value: clienteInfo.telefone,\n        onChange: e => setClienteInfo({\n          ...clienteInfo,\n          telefone: e.target.value\n        }),\n        style: styles.input,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"E-mail (opcional)\",\n        value: clienteInfo.email,\n        onChange: e => setClienteInfo({\n          ...clienteInfo,\n          email: e.target.value\n        }),\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Endere\\xE7o completo para entrega\",\n        value: clienteInfo.endereco,\n        onChange: e => setClienteInfo({\n          ...clienteInfo,\n          endereco: e.target.value\n        }),\n        style: {\n          ...styles.input,\n          minHeight: '80px',\n          resize: 'vertical'\n        },\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: styles.confirmButton,\n        children: \"\\u2705 Come\\xE7ar a Pedir\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 9\n    }, this), !showClienteForm && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chatArea,\n        children: [messages.map(msg => /*#__PURE__*/_jsxDEV(ChatMessage, {\n          message: msg,\n          onOptionClick: handleOptionClick,\n          clienteInfo: clienteInfo,\n          totalItens: totalItens\n        }, msg.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 15\n        }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.loading,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.loadingSpinner\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 17\n          }, this), \"Pensando...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }, this), showCarrinho && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.carrinhoArea,\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: styles.carrinhoTitulo,\n          children: [\"\\uD83D\\uDED2 Seu Carrinho \", totalItens > 0 && `(${totalItens} itens)`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 15\n        }, this), carrinho.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.carrinhoVazio,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Seu carrinho est\\xE1 vazio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowCarrinho(false),\n            style: styles.continuarButton,\n            children: \"\\uD83C\\uDF55 Ver Card\\xE1pio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [carrinho.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.itemCarrinho,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.itemInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: item.nome\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"Pre\\xE7o Base: R$ \", item.precoBase.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 25\n              }, this), item.extras.length > 0 && /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 34\n                }, this), \"Extras: \", item.extras.join(', '), \" (+R$ \", item.extras.reduce((sum, e) => sum + (EXTRAS[e] || 0), 0).toFixed(2), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.quantidadeContainer,\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAtualizarQuantidade(item.id, item.quantidade - 1),\n                  style: styles.quantidadeButton,\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: styles.quantidadeText,\n                  children: item.quantidade\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAtualizarQuantidade(item.id, item.quantidade + 1),\n                  style: styles.quantidadeButton,\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Total: R$ \", (item.precoTotal * item.quantidade).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleRemoverDoCarrinho(item.id),\n              style: styles.removerButton,\n              children: \"\\uD83D\\uDDD1\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 23\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 21\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.totalCarrinho,\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Total do Pedido: R$ \", totalCarrinho.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.carrinhoBotoes,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleWhatsAppClick,\n              style: styles.whatsappButton,\n              children: \"\\uD83D\\uDCF1 Finalizar no WhatsApp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleOptionClick('limpar_carrinho'),\n              style: styles.limparButton,\n              children: \"\\uD83D\\uDDD1\\uFE0F Limpar Carrinho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowCarrinho(false),\n              style: styles.voltarButton,\n              children: \"\\u2190 Continuar Comprando\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 13\n      }, this), !showCarrinho && carrinho.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCarrinho(true),\n        style: styles.floatingCarrinhoButton,\n        children: [\"\\uD83D\\uDED2 Ver Carrinho (\", totalItens, \") - R$ \", totalCarrinho.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 13\n      }, this), pizzaToAdd && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modalOverlay,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.modalContent,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: styles.modalTitulo,\n            children: [\"\\uD83C\\uDF55 Adicionar: \", pizzaToAdd.nome]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: styles.modalPreco,\n            children: [\"Pre\\xE7o Base: R$ \", pizzaToAdd.preco.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.quantidadeSection,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.quantidadeLabel,\n              children: \"Quantidade:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.quantidadeContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuantidade(Math.max(1, quantidade - 1)),\n                style: styles.quantidadeButton,\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: styles.quantidadeText,\n                children: quantidade\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuantidade(quantidade + 1),\n                style: styles.quantidadeButton,\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.extrasSection,\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              style: styles.extrasTitulo,\n              children: \"\\uD83C\\uDF81 Extras (opcional):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 19\n            }, this), Object.entries(EXTRAS).map(([extra, preco]) => /*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.extraLabel,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: extrasSelecionados.includes(extra),\n                onChange: e => {\n                  if (e.target.checked) {\n                    setExtrasSelecionados(prev => [...prev, extra]);\n                  } else {\n                    setExtrasSelecionados(prev => prev.filter(e => e !== extra));\n                  }\n                },\n                style: styles.checkbox\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 23\n              }, this), extra, \" (+R$ \", preco.toFixed(2), \")\"]\n            }, extra, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.modalTotal,\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Total: R$ \", ((pizzaToAdd.preco + extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e] || 0), 0)) * quantidade).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.modalButtons,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setPizzaToAdd(null),\n              style: styles.cancelarButton,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAdicionarAoCarrinho,\n              style: styles.adicionarButton,\n              children: \"\\uD83D\\uDED2 Adicionar ao Carrinho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 13\n      }, this), !showCarrinho && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.inputArea,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: inputText,\n          onChange: e => setInputText(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && handleSendMessage(),\n          placeholder: \"Digite sua mensagem...\",\n          style: styles.input,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          style: styles.sendButton,\n          disabled: loading,\n          children: loading ? '‚è≥' : 'üì§'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 419,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Componente para exibir uma mensagem no chat ---\n_s(PizzaRecommender, \"KKswHVGSKruy5V0hXNxDT74jRMk=\");\n_c = PizzaRecommender;\nconst ChatMessage = ({\n  message,\n  onOptionClick,\n  clienteInfo,\n  totalItens\n}) => {\n  const isUser = message.type === 'user';\n  const isPedido = message.type === 'pedido';\n  const isBot = message.type === 'bot';\n  const isInfo = message.type === 'info';\n  const isCardapio = message.type === 'cardapio';\n  const isAction = message.type === 'action';\n  let bgColor = '#f8f9fa';\n  let align = 'flex-start';\n  let textColor = '#333';\n  let border = 'none';\n  if (isUser) {\n    bgColor = 'linear-gradient(135deg, #d32f2f, #b71c1c)';\n    align = 'flex-end';\n    textColor = 'white';\n  } else if (isPedido) {\n    bgColor = 'linear-gradient(135deg, #4caf50, #388e3c)';\n    textColor = 'white';\n  } else if (isInfo) {\n    bgColor = 'linear-gradient(135deg, #2196f3, #1976d2)';\n    textColor = 'white';\n  } else if (isBot) {\n    bgColor = '#ffffff';\n    border = '1px solid #e0e0e0';\n  } else if (isCardapio) {\n    bgColor = '#fff3e0';\n    border = '1px solid #ffd54f';\n  }\n\n  // Formatar texto com quebras de linha\n  const formatText = (text = '') => {\n    return text.split('\\n').map((line, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [line, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 9\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 7\n    }, this));\n  };\n\n  // Fun√ß√£o para WhatsApp\n  const handleWhatsAppClick = () => {\n    const numeroLimpo = NUMERO_ATENDIMENTO.replace(/\\D/g, '');\n    const mensagem = `Ol√° ${encodeURIComponent(clienteInfo.nome)}, seu pedido est√° pronto! Por favor, confirme o recebimento.`;\n    const mensagemCodificada = encodeURIComponent(mensagem);\n    const link = `https://wa.me/${numeroLimpo}?text=${mensagemCodificada}`;\n    window.open(link, '_blank');\n  };\n  if (isCardapio && message.pizza) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: align,\n        marginBottom: '12px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '12px 16px',\n          borderRadius: '16px',\n          background: bgColor,\n          border: border,\n          color: textColor,\n          maxWidth: '85%',\n          wordWrap: 'break-word',\n          boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            fontSize: '16px',\n            display: 'block',\n            marginBottom: '4px'\n          },\n          children: message.pizza.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '14px',\n            color: isCardapio ? '#666' : 'inherit',\n            marginBottom: '8px'\n          },\n          children: message.pizza.ingredientes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              color: '#d32f2f',\n              fontSize: '16px'\n            },\n            children: [\"R$ \", message.pizza.preco.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 13\n          }, this), message.options && message.options.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onOptionClick(message.options[0].action),\n            style: {\n              padding: '6px 12px',\n              borderRadius: '20px',\n              border: '1px solid #d32f2f',\n              backgroundColor: 'white',\n              color: '#d32f2f',\n              cursor: 'pointer',\n              fontSize: '12px',\n              fontWeight: 'bold',\n              transition: 'all 0.2s ease'\n            },\n            onMouseOver: e => {\n              e.currentTarget.style.backgroundColor = '#d32f2f';\n              e.currentTarget.style.color = 'white';\n            },\n            onMouseOut: e => {\n              e.currentTarget.style.backgroundColor = 'white';\n              e.currentTarget.style.color = '#d32f2f';\n            },\n            children: message.options[0].text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 737,\n      columnNumber: 7\n    }, this);\n  }\n  if (isAction && message.options) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        gap: '8px',\n        marginBottom: '12px',\n        flexWrap: 'wrap'\n      },\n      children: message.options.map((opt, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onOptionClick(opt.action),\n        style: {\n          padding: '8px 16px',\n          borderRadius: '20px',\n          border: '1px solid #d32f2f',\n          backgroundColor: 'white',\n          color: '#d32f2f',\n          cursor: 'pointer',\n          fontSize: '14px',\n          fontWeight: '500',\n          transition: 'all 0.2s ease',\n          boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n        },\n        onMouseOver: e => {\n          e.currentTarget.style.backgroundColor = '#d32f2f';\n          e.currentTarget.style.color = 'white';\n          e.currentTarget.style.transform = 'translateY(-1px)';\n        },\n        onMouseOut: e => {\n          e.currentTarget.style.backgroundColor = 'white';\n          e.currentTarget.style.color = '#d32f2f';\n          e.currentTarget.style.transform = 'translateY(0)';\n        },\n        children: opt.text\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 802,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 794,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Mensagem com bot√£o do WhatsApp\n  let conteudoMensagem = formatText(message.text);\n  if (isInfo && message.text === \"üì± Clique para confirmar via WhatsApp\") {\n    conteudoMensagem = /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleWhatsAppClick,\n      style: {\n        padding: '10px 16px',\n        borderRadius: '20px',\n        border: '1px solid #25D366',\n        backgroundColor: '#25D366',\n        color: 'white',\n        cursor: 'pointer',\n        fontSize: '14px',\n        fontWeight: 'bold',\n        transition: 'all 0.2s ease',\n        boxShadow: '0 2px 8px rgba(37, 211, 102, 0.3)'\n      },\n      onMouseOver: e => {\n        e.currentTarget.style.backgroundColor = '#128C7E';\n        e.currentTarget.style.transform = 'translateY(-1px)';\n      },\n      onMouseOut: e => {\n        e.currentTarget.style.backgroundColor = '#25D366';\n        e.currentTarget.style.transform = 'translateY(0)';\n      },\n      children: \"\\uD83D\\uDCF1 Confirmar Pedido no WhatsApp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 840,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: align,\n      marginBottom: '12px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '12px 16px',\n        borderRadius: '16px',\n        background: bgColor,\n        border: border,\n        color: textColor,\n        maxWidth: '85%',\n        wordWrap: 'break-word',\n        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n        lineHeight: '1.4'\n      },\n      children: conteudoMensagem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 870,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 869,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Estilos CSS em JS ---\n_c2 = ChatMessage;\nconst styles = {\n  container: {\n    fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\",\n    padding: '0',\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: 'transparent',\n    position: 'relative'\n  },\n  clienteForm: {\n    padding: '24px',\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    color: 'white',\n    borderRadius: '0',\n    margin: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '16px',\n    height: '100%',\n    justifyContent: 'center'\n  },\n  formTitle: {\n    margin: '0 0 24px 0',\n    fontSize: '24px',\n    fontWeight: 'bold',\n    textAlign: 'center',\n    textShadow: '0 2px 4px rgba(0,0,0,0.2)'\n  },\n  input: {\n    padding: '12px 16px',\n    borderRadius: '12px',\n    border: '1px solid rgba(255,255,255,0.2)',\n    backgroundColor: 'rgba(255,255,255,0.1)',\n    color: 'white',\n    fontSize: '16px',\n    backdropFilter: 'blur(10px)',\n    transition: 'all 0.2s ease'\n  },\n  confirmButton: {\n    padding: '14px',\n    background: 'linear-gradient(135deg, #4caf50, #45a049)',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    fontSize: '16px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n    transition: 'all 0.2s ease',\n    boxShadow: '0 4px 12px rgba(76, 175, 80, 0.3)'\n  },\n  chatArea: {\n    flex: 1,\n    overflowY: 'auto',\n    padding: '20px',\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '12px',\n    background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'\n  },\n  loading: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '12px',\n    padding: '12px 16px',\n    color: '#666',\n    fontSize: '14px',\n    fontStyle: 'italic',\n    justifyContent: 'center'\n  },\n  loadingSpinner: {\n    width: '20px',\n    height: '20px',\n    border: '2px solid #f3f3f3',\n    borderTop: '2px solid #d32f2f',\n    borderRadius: '50%',\n    animation: 'spin 1s linear infinite'\n  },\n  carrinhoArea: {\n    padding: '20px',\n    backgroundColor: 'white',\n    borderRadius: '16px',\n    border: '1px solid #e0e0e0',\n    margin: '16px',\n    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n    maxHeight: '400px',\n    overflowY: 'auto'\n  },\n  carrinhoTitulo: {\n    margin: '0 0 16px 0',\n    fontSize: '18px',\n    fontWeight: 'bold',\n    color: '#333',\n    textAlign: 'center'\n  },\n  carrinhoVazio: {\n    textAlign: 'center',\n    padding: '20px',\n    color: '#666'\n  },\n  itemCarrinho: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    padding: '12px 0',\n    borderBottom: '1px solid #f0f0f0',\n    gap: '12px'\n  },\n  itemInfo: {\n    flex: 1,\n    fontSize: '14px'\n  },\n  quantidadeContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    margin: '8px 0'\n  },\n  quantidadeButton: {\n    width: '28px',\n    height: '28px',\n    borderRadius: '50%',\n    border: '1px solid #d32f2f',\n    backgroundColor: 'white',\n    color: '#d32f2f',\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '14px',\n    fontWeight: 'bold'\n  },\n  quantidadeText: {\n    padding: '0 12px',\n    fontWeight: 'bold'\n  },\n  removerButton: {\n    padding: '8px',\n    backgroundColor: 'transparent',\n    color: '#ff4444',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '16px',\n    transition: 'all 0.2s ease'\n  },\n  totalCarrinho: {\n    textAlign: 'center',\n    padding: '16px 0',\n    fontWeight: 'bold',\n    borderTop: '2px solid #e0e0e0',\n    marginTop: '12px',\n    fontSize: '18px',\n    color: '#d32f2f'\n  },\n  carrinhoBotoes: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '8px'\n  },\n  whatsappButton: {\n    padding: '12px',\n    backgroundColor: '#25D366',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n    fontSize: '14px',\n    transition: 'all 0.2s ease'\n  },\n  limparButton: {\n    padding: '10px',\n    backgroundColor: '#ff4444',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '14px'\n  },\n  voltarButton: {\n    padding: '10px',\n    backgroundColor: '#666',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '14px'\n  },\n  continuarButton: {\n    padding: '12px 24px',\n    backgroundColor: '#d32f2f',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n    marginTop: '12px'\n  },\n  floatingCarrinhoButton: {\n    position: 'fixed',\n    bottom: '80px',\n    right: '20px',\n    padding: '12px 16px',\n    backgroundColor: '#d32f2f',\n    color: 'white',\n    border: 'none',\n    borderRadius: '25px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n    boxShadow: '0 4px 12px rgba(211, 47, 47, 0.3)',\n    zIndex: 1000,\n    fontSize: '14px',\n    transition: 'all 0.2s ease'\n  },\n  modalOverlay: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 10000,\n    padding: '20px'\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    padding: '24px',\n    borderRadius: '20px',\n    width: '90%',\n    maxWidth: '400px',\n    maxHeight: '80vh',\n    overflowY: 'auto',\n    boxShadow: '0 20px 60px rgba(0,0,0,0.3)'\n  },\n  modalTitulo: {\n    margin: '0 0 12px 0',\n    fontSize: '20px',\n    fontWeight: 'bold',\n    color: '#333',\n    textAlign: 'center'\n  },\n  modalPreco: {\n    textAlign: 'center',\n    fontSize: '18px',\n    color: '#d32f2f',\n    fontWeight: 'bold',\n    marginBottom: '16px'\n  },\n  quantidadeSection: {\n    marginBottom: '16px',\n    textAlign: 'center'\n  },\n  quantidadeLabel: {\n    display: 'block',\n    marginBottom: '8px',\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  extrasSection: {\n    marginBottom: '16px'\n  },\n  extrasTitulo: {\n    margin: '0 0 12px 0',\n    fontSize: '16px',\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  extraLabel: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    marginBottom: '8px',\n    padding: '8px',\n    borderRadius: '8px',\n    backgroundColor: '#f8f9fa',\n    cursor: 'pointer',\n    transition: 'all 0.2s ease'\n  },\n  checkbox: {\n    margin: 0\n  },\n  modalTotal: {\n    textAlign: 'center',\n    padding: '16px 0',\n    borderTop: '1px solid #e0e0e0',\n    marginTop: '16px',\n    fontSize: '18px',\n    fontWeight: 'bold',\n    color: '#d32f2f'\n  },\n  modalButtons: {\n    display: 'flex',\n    gap: '12px',\n    marginTop: '16px'\n  },\n  cancelarButton: {\n    flex: 1,\n    padding: '12px',\n    backgroundColor: '#666',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    fontSize: '14px'\n  },\n  adicionarButton: {\n    flex: 2,\n    padding: '12px',\n    backgroundColor: '#4caf50',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    fontSize: '14px',\n    fontWeight: 'bold'\n  },\n  inputArea: {\n    display: 'flex',\n    gap: '8px',\n    padding: '16px',\n    backgroundColor: 'white',\n    borderTop: '1px solid #e0e0e0'\n  },\n  sendButton: {\n    padding: '12px 16px',\n    background: 'linear-gradient(135deg, #d32f2f, #b71c1c)',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    fontSize: '16px',\n    cursor: 'pointer',\n    minWidth: '60px',\n    transition: 'all 0.2s ease'\n  }\n};\n\n// Adicionar estilos CSS globais\nconst styleSheet = document.styleSheets[0];\nstyleSheet.insertRule(`\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`, styleSheet.cssRules.length);\nexport default PizzaRecommender;\nvar _c, _c2;\n$RefreshReg$(_c, \"PizzaRecommender\");\n$RefreshReg$(_c2, \"ChatMessage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","recomendarPizza","salvarPedido","CARDAPIO","EXTRAS","jsxDEV","_jsxDEV","Fragment","_Fragment","NUMERO_ATENDIMENTO","PizzaRecommender","_s","clienteInfo","setClienteInfo","nome","telefone","endereco","email","showClienteForm","setShowClienteForm","messages","setMessages","inputText","setInputText","loading","setLoading","carrinho","setCarrinho","showCarrinho","setShowCarrinho","pizzaToAdd","setPizzaToAdd","extrasSelecionados","setExtrasSelecionados","quantidade","setQuantidade","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","id","text","type","timestamp","Date","carrinhoSalvo","localStorage","getItem","JSON","parse","setItem","stringify","totalCarrinho","reduce","sum","item","precoTotal","totalItens","handleOptionClick","action","userMessage","now","replace","prev","botResponse","cardapioMessages","Object","entries","map","info","index","pizza","ingredientes","preco","options","resp","erro","pizza_recomendada","motivo","join","detalhe","e","startsWith","nomePizza","infoPizza","length","i","pedidoIndividual","cliente_id","nome_cliente","telefone_cliente","extras","toFixed","removeItem","message","handleAdicionarAoCarrinho","precoExtras","itemExistenteIndex","findIndex","novoCarrinho","novoItem","precoBase","handleRemoverDoCarrinho","filter","handleAtualizarQuantidade","novaQuantidade","handleSendMessage","trim","lowerText","toLowerCase","test","saudacao","handleClienteSubmit","preventDefault","novoClienteId","handleWhatsAppClick","numeroLimpo","mensagem","forEach","mensagemCodificada","encodeURIComponent","link","window","open","style","styles","container","children","onSubmit","clienteForm","formTitle","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","input","required","minHeight","resize","confirmButton","chatArea","msg","ChatMessage","onOptionClick","loadingSpinner","ref","carrinhoArea","carrinhoTitulo","carrinhoVazio","onClick","continuarButton","itemCarrinho","itemInfo","quantidadeContainer","quantidadeButton","quantidadeText","removerButton","carrinhoBotoes","whatsappButton","limparButton","voltarButton","floatingCarrinhoButton","modalOverlay","modalContent","modalTitulo","modalPreco","quantidadeSection","quantidadeLabel","Math","max","extrasSection","extrasTitulo","extra","extraLabel","checked","includes","checkbox","modalTotal","modalButtons","cancelarButton","adicionarButton","inputArea","onKeyPress","key","disabled","sendButton","_c","isUser","isPedido","isBot","isInfo","isCardapio","isAction","bgColor","align","textColor","border","formatText","split","line","display","justifyContent","marginBottom","padding","borderRadius","background","color","maxWidth","wordWrap","boxShadow","fontSize","alignItems","backgroundColor","cursor","fontWeight","transition","onMouseOver","currentTarget","onMouseOut","gap","flexWrap","opt","transform","conteudoMensagem","lineHeight","_c2","fontFamily","height","flexDirection","position","margin","textAlign","textShadow","backdropFilter","flex","overflowY","fontStyle","width","borderTop","animation","maxHeight","borderBottom","marginTop","bottom","right","zIndex","top","left","minWidth","styleSheet","document","styleSheets","insertRule","cssRules","$RefreshReg$"],"sources":["/home/codigoquatro/Documentos/pizzaria-ia/frontend/src/components/PizzaRecommender.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { recomendarPizza, salvarPedido } from '../services/api';\nimport { CARDAPIO, EXTRAS } from '../cardapio-data';\n\n// --- Tipos para mensagens do chat ---\ntype MessageType = 'info' | 'user' | 'bot' | 'pedido' | 'cardapio' | 'action' | 'form' | 'carrinho';\n\ninterface Message {\n  id: number;\n  text?: string;\n  type: MessageType;\n  timestamp: Date;\n  pizza?: { nome: string; ingredientes: string; preco: number };\n  formType?: 'pedido' | 'cliente';\n  options?: { text: string; action: string }[];\n  carrinho?: CarrinhoItem[];\n}\n\n// --- Tipos para o Carrinho ---\ninterface CarrinhoItem {\n  id: number;\n  nome: string;\n  precoBase: number;\n  extras: string[];\n  precoTotal: number;\n  quantidade: number;\n}\n\n// --- Tipos para Cliente ---\ninterface ClienteInfo {\n  id?: number;\n  nome: string;\n  telefone: string;\n  endereco: string;\n  email?: string;\n}\n\nconst NUMERO_ATENDIMENTO = '5585988978980';\n\nconst PizzaRecommender: React.FC = () => {\n  // --- Estados para dados do cliente ---\n  const [clienteInfo, setClienteInfo] = useState<ClienteInfo>({\n    nome: '',\n    telefone: '',\n    endereco: '',\n    email: ''\n  });\n  \n  const [showClienteForm, setShowClienteForm] = useState(true);\n\n  // --- Estados para chat e fluxo ---\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputText, setInputText] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // --- Estados para o Carrinho ---\n  const [carrinho, setCarrinho] = useState<CarrinhoItem[]>([]);\n  const [showCarrinho, setShowCarrinho] = useState(false);\n\n  // --- Estados para Adicionar ao Carrinho ---\n  const [pizzaToAdd, setPizzaToAdd] = useState<{ nome: string; preco: number } | null>(null);\n  const [extrasSelecionados, setExtrasSelecionados] = useState<string[]>([]);\n  const [quantidade, setQuantidade] = useState(1);\n\n  // --- Ref para auto-scroll ---\n  const messagesEndRef = useRef<null | HTMLDivElement>(null);\n\n  // --- Rola para a √∫ltima mensagem ---\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    // Mensagem de boas-vindas inicial\n    setMessages([\n      { \n        id: 1, \n        text: \"üçï Ol√°! Bem-vindo √† Pizzaria IA! Sou seu assistente virtual. Vamos come√ßar com seu cadastro para uma experi√™ncia personalizada.\", \n        type: 'bot', \n        timestamp: new Date() \n      }\n    ]);\n    \n    // Carregar carrinho do localStorage\n    const carrinhoSalvo = localStorage.getItem('pizzaria-carrinho');\n    if (carrinhoSalvo) {\n      setCarrinho(JSON.parse(carrinhoSalvo));\n    }\n    \n    scrollToBottom();\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Salvar carrinho no localStorage quando mudar\n  useEffect(() => {\n    localStorage.setItem('pizzaria-carrinho', JSON.stringify(carrinho));\n  }, [carrinho]);\n\n  // --- Calcula total do carrinho ---\n  const totalCarrinho = carrinho.reduce((sum, item) => sum + (item.precoTotal * item.quantidade), 0);\n  const totalItens = carrinho.reduce((sum, item) => sum + item.quantidade, 0);\n\n  // --- Fun√ß√£o para lidar com a√ß√µes de bot√µes ---\n  const handleOptionClick = async (action: string) => {\n    setLoading(true);\n    const userMessage: Message = { \n      id: Date.now(), \n      text: action.replace(/_/g, ' '), \n      type: 'user', \n      timestamp: new Date() \n    };\n    \n    setMessages(prev => [...prev, userMessage]);\n\n    let botResponse = \"\";\n    \n    if (action === 'ver_cardapio') {\n      botResponse = \"Claro! Aqui est√° nosso card√°pio completo. Clique em qualquer pizza para adicionar ao carrinho. üçï\";\n      const cardapioMessages: Message[] = Object.entries(CARDAPIO).map(([nome, info], index) => ({\n        id: Date.now() + index,\n        type: 'cardapio',\n        timestamp: new Date(),\n        pizza: {\n          nome: nome,\n          ingredientes: info.ingredientes,\n          preco: info.preco\n        },\n        options: [{ text: \"üõí Adicionar\", action: `adicionar_${nome}` }]\n      }));\n      setMessages(prev => [...prev, \n        { id: Date.now() + 1000, text: botResponse, type: 'bot', timestamp: new Date() }, \n        ...cardapioMessages\n      ]);\n      botResponse = \"\";\n    } else if (action === 'recomendar') {\n      try {\n        const resp = await recomendarPizza(clienteInfo.id || 1);\n        if (!resp.erro) {\n          botResponse = `üéØ **Recomenda√ß√£o Especial para Voc√™!**\\n\\n**${resp.pizza_recomendada}**\\nüìù ${resp.motivo}\\nüçÖ Ingredientes: ${resp.ingredientes.join(', ')}`;\n          setMessages(prev => [\n            ...prev,\n            { id: Date.now() + 1, text: botResponse, type: 'bot', timestamp: new Date() },\n            { id: Date.now() + 2, type: 'action', options: [\n              { text: \"üõí Adicionar Recomenda√ß√£o\", action: `adicionar_${resp.pizza_recomendada}` },\n              { text: \"üìã Ver Card√°pio\", action: 'ver_cardapio' }\n            ], timestamp: new Date() }\n          ]);\n          botResponse = \"\";\n        } else {\n          botResponse = `‚ùå Erro na recomenda√ß√£o: ${resp.detalhe}`;\n        }\n      } catch (e) {\n        botResponse = \"‚ö†Ô∏è Erro ao conectar com o sistema de recomenda√ß√£o.\";\n      }\n    } else if (action.startsWith('adicionar_')) {\n      const nomePizza = action.replace('adicionar_', '');\n      const infoPizza = CARDAPIO[nomePizza as keyof typeof CARDAPIO];\n      if (infoPizza) {\n        setPizzaToAdd({ nome: nomePizza, preco: infoPizza.preco });\n        setExtrasSelecionados([]);\n        setQuantidade(1);\n      } else {\n        botResponse = \"‚ùå Erro: Pizza n√£o encontrada no card√°pio.\";\n      }\n    } else if (action === 'ver_carrinho') {\n      setShowCarrinho(true);\n      botResponse = \"\";\n    } else if (action === 'finalizar_pedido') {\n      if (carrinho.length === 0) {\n        botResponse = \"üõí Seu carrinho est√° vazio. Adicione algumas pizzas deliciosas primeiro!\";\n      } else {\n        try {\n          for (const item of carrinho) {\n            for (let i = 0; i < item.quantidade; i++) {\n              const pedidoIndividual = {\n                cliente_id: clienteInfo.id || Date.now() % 10000,\n                nome_cliente: clienteInfo.nome,\n                telefone_cliente: clienteInfo.telefone,\n                pizza: item.nome,\n                extras: item.extras\n              };\n              await salvarPedido(pedidoIndividual);\n            }\n          }\n          \n          botResponse = `‚úÖ **Pedido Confirmado!**\\n\\nüì¶ ${totalItens} itens\\nüí∞ Total: R$ ${totalCarrinho.toFixed(2)}\\n\\nAgora clique abaixo para finalizar via WhatsApp:`;\n          \n          setMessages(prev => [\n            ...prev, \n            { id: Date.now(), text: botResponse, type: 'info', timestamp: new Date() },\n            { id: Date.now() + 1, text: \"üì± Clique para confirmar via WhatsApp\", type: 'info', timestamp: new Date() }\n          ]);\n          \n          setCarrinho([]);\n          setShowCarrinho(false);\n          localStorage.removeItem('pizzaria-carrinho');\n          botResponse = \"\";\n        } catch (e: any) {\n          botResponse = `‚ùå Erro ao confirmar pedido: ${e.message || e}`;\n        }\n      }\n    } else if (action === 'limpar_carrinho') {\n      setCarrinho([]);\n      setShowCarrinho(false);\n      localStorage.removeItem('pizzaria-carrinho');\n      botResponse = \"üóëÔ∏è Carrinho limpo! Que tal dar uma olhada no nosso card√°pio?\";\n    } else if (action === 'continuar_comprando') {\n      setShowCarrinho(false);\n      botResponse = \"üõçÔ∏è Continue explorando nosso card√°pio!\";\n    } else if (action === 'ajuda') {\n      botResponse = \"ü§ñ **Como posso ajudar?**\\n\\n‚Ä¢ üìã **Ver Card√°pio** - Ver todas as pizzas\\n‚Ä¢ üéØ **Recomenda√ß√£o** - Sugest√£o personalizada\\n‚Ä¢ üõí **Carrinho** - Ver seus itens\\n‚Ä¢ üí¨ **Digite** - Converse comigo!\\n\\n√â s√≥ clicar nos bot√µes ou digitar o que precisa!\";\n    } else {\n      botResponse = \"ü§î N√£o entendi completamente. Use os bot√µes abaixo ou digite 'ajuda' para ver op√ß√µes.\";\n    }\n\n    if (botResponse) {\n      setMessages(prev => [...prev, { \n        id: Date.now() + 1, \n        text: botResponse, \n        type: 'bot', \n        timestamp: new Date() \n      }]);\n    }\n    \n    setLoading(false);\n  };\n\n  // --- Fun√ß√£o para adicionar item ao carrinho ---\n  const handleAdicionarAoCarrinho = () => {\n    if (pizzaToAdd) {\n      const precoExtras = extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e as keyof typeof EXTRAS] || 0), 0);\n      const precoTotal = pizzaToAdd.preco + precoExtras;\n\n      // Verifica se j√° existe item igual no carrinho\n      const itemExistenteIndex = carrinho.findIndex(\n        item => item.nome === pizzaToAdd.nome && \n        JSON.stringify(item.extras) === JSON.stringify(extrasSelecionados)\n      );\n\n      if (itemExistenteIndex > -1) {\n        // Atualiza quantidade do item existente\n        const novoCarrinho = [...carrinho];\n        novoCarrinho[itemExistenteIndex].quantidade += quantidade;\n        setCarrinho(novoCarrinho);\n      } else {\n        // Adiciona novo item\n        const novoItem: CarrinhoItem = {\n          id: Date.now(),\n          nome: pizzaToAdd.nome,\n          precoBase: pizzaToAdd.preco,\n          extras: [...extrasSelecionados],\n          precoTotal: precoTotal,\n          quantidade: quantidade\n        };\n        setCarrinho(prev => [...prev, novoItem]);\n      }\n\n      setPizzaToAdd(null);\n      setExtrasSelecionados([]);\n      setQuantidade(1);\n      \n      setMessages(prev => [...prev, { \n        id: Date.now(), \n        text: `‚úÖ ${quantidade}x ${pizzaToAdd.nome} adicionada ao carrinho! ${extrasSelecionados.length > 0 ? `(Extras: ${extrasSelecionados.join(', ')})` : ''}`, \n        type: 'info', \n        timestamp: new Date() \n      }]);\n    }\n  };\n\n  // --- Fun√ß√£o para remover item do carrinho ---\n  const handleRemoverDoCarrinho = (id: number) => {\n    setCarrinho(prev => prev.filter(item => item.id !== id));\n  };\n\n  // --- Fun√ß√£o para atualizar quantidade ---\n  const handleAtualizarQuantidade = (id: number, novaQuantidade: number) => {\n    if (novaQuantidade < 1) return;\n    \n    setCarrinho(prev => prev.map(item => \n      item.id === id ? { ...item, quantidade: novaQuantidade } : item\n    ));\n  };\n\n  // --- Fun√ß√£o para lidar com o envio de mensagens ---\n  const handleSendMessage = async () => {\n    if (!inputText.trim()) return;\n\n    const userMessage: Message = { \n      id: Date.now(), \n      text: inputText, \n      type: 'user', \n      timestamp: new Date() \n    };\n    \n    setMessages(prev => [...prev, userMessage]);\n    setInputText('');\n    setLoading(true);\n\n    // --- L√≥gica de IA Simples ---\n    let botResponse = \"\";\n    const lowerText = inputText.toLowerCase();\n\n    if (showClienteForm) {\n      botResponse = \"Por favor, complete seu cadastro primeiro para podermos continuar! üòä\";\n    } else if (/(ol√°|oi|ola|bom dia|boa tarde|boa noite)/i.test(lowerText)) {\n      const saudacao = `Ol√° ${clienteInfo.nome}! üòä √â um prazer ter voc√™ aqui! Como posso ajudar?`;\n      setMessages(prev => [\n        ...prev,\n        { id: Date.now() + 1, text: saudacao, type: 'bot', timestamp: new Date() },\n        { id: Date.now() + 2, type: 'action', options: [\n          { text: \"üìã Card√°pio\", action: 'ver_cardapio' },\n          { text: \"üéØ Recomenda√ß√£o\", action: 'recomendar' },\n          { text: `üõí Carrinho (${totalItens})`, action: 'ver_carrinho' }\n        ], timestamp: new Date() }\n      ]);\n      botResponse = \"\";\n    } else if (/(card√°pio|cardapio|menu|op√ß√µes|o que tem|pizzas)/i.test(lowerText)) {\n      handleOptionClick('ver_cardapio');\n      botResponse = \"\";\n    } else if (/(recomendar|sugerir|sugira|qual pizza|n√£o sei|indica)/i.test(lowerText)) {\n      handleOptionClick('recomendar');\n      botResponse = \"\";\n    } else if (/(carrinho|pedido|meu pedido|itens)/i.test(lowerText)) {\n      handleOptionClick('ver_carrinho');\n      botResponse = \"\";\n    } else if (/(obrigado|obrigada|valeu|obrigado)/i.test(lowerText)) {\n      botResponse = `De nada, ${clienteInfo.nome}! üòä Estou aqui para ajudar!`;\n    } else if (/(pre√ßo|preco|quanto custa|valor)/i.test(lowerText)) {\n      botResponse = \"Temos pizzas a partir de R$ 25,00! Clique em 'Ver Card√°pio' para ver todos os pre√ßos e op√ß√µes. üçï\";\n    } else if (/(tempo|entrega|demora|quando chega)/i.test(lowerText)) {\n      botResponse = \"‚è±Ô∏è Nosso tempo de entrega √© de 30-45 minutos! Pedidos acima de R$ 50,00 t√™m entrega gr√°tis!\";\n    } else if (/(promo√ß√£o|promocao|desconto|oferta)/i.test(lowerText)) {\n      botResponse = \"üéÅ **Promo√ß√µes da Semana:**\\n‚Ä¢ 2 pizzas grandes + refrigerante: 15% off\\n‚Ä¢ Pedidos acima de R$ 80: entrega gr√°tis\\n‚Ä¢ Todas as segundas: 20% off em pizzas tradicionais!\";\n    } else {\n      setMessages(prev => [\n        ...prev,\n        { id: Date.now() + 1, text: \"ü§ñ **Assistente Pizzaria IA**\\n\\nDesculpe, n√£o entendi completamente. Aqui est√£o as op√ß√µes dispon√≠veis:\", type: 'bot', timestamp: new Date() },\n        { id: Date.now() + 2, type: 'action', options: [\n          { text: \"üìã Ver Card√°pio\", action: 'ver_cardapio' },\n          { text: \"üéØ Receber Recomenda√ß√£o\", action: 'recomendar' },\n          { text: `üõí Ver Carrinho (${totalItens})`, action: 'ver_carrinho' },\n          { text: \"‚ùì Ajuda\", action: 'ajuda' }\n        ], timestamp: new Date() }\n      ]);\n      botResponse = \"\";\n    }\n\n    if (botResponse) {\n      setMessages(prev => [...prev, { \n        id: Date.now() + 1, \n        text: botResponse, \n        type: 'bot', \n        timestamp: new Date() \n      }]);\n    }\n    \n    setLoading(false);\n  };\n\n  // --- Fun√ß√£o para lidar com o envio do formul√°rio de cliente ---\n  const handleClienteSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (clienteInfo.nome && clienteInfo.telefone && clienteInfo.endereco) {\n      const novoClienteId = Date.now() % 10000;\n      setClienteInfo(prev => ({ ...prev, id: novoClienteId }));\n      setShowClienteForm(false);\n      \n      setMessages(prev => [\n        ...prev,\n        { \n          id: Date.now(), \n          text: `‚úÖ **Cadastro Conclu√≠do!**\\n\\nObrigado, ${clienteInfo.nome}! Seu ID √© #${novoClienteId}.\\n\\nAgora, como posso te ajudar? üòä`, \n          type: 'bot', \n          timestamp: new Date() \n        },\n        { \n          id: Date.now() + 1, \n          type: 'action', \n          options: [\n            { text: \"üìã Ver Card√°pio\", action: 'ver_cardapio' },\n            { text: \"üéØ Receber Recomenda√ß√£o\", action: 'recomendar' },\n            { text: \"‚ùì Ajuda\", action: 'ajuda' }\n          ], \n          timestamp: new Date() \n        }\n      ]);\n    }\n  };\n\n  // --- Fun√ß√£o para WhatsApp ---\n  const handleWhatsAppClick = () => {\n    const numeroLimpo = NUMERO_ATENDIMENTO.replace(/\\D/g, '');\n    let mensagem = `Ol√°! Gostaria de confirmar meu pedido:\\n\\n`;\n    \n    carrinho.forEach(item => {\n      mensagem += `‚Ä¢ ${item.quantidade}x ${item.nome}`;\n      if (item.extras.length > 0) {\n        mensagem += ` (Extras: ${item.extras.join(', ')})`;\n      }\n      mensagem += ` - R$ ${(item.precoTotal * item.quantidade).toFixed(2)}\\n`;\n    });\n    \n    mensagem += `\\nüí∞ **Total: R$ ${totalCarrinho.toFixed(2)}**\\n`;\n    mensagem += `üë§ **Cliente:** ${clienteInfo.nome}\\n`;\n    mensagem += `üìû **Telefone:** ${clienteInfo.telefone}\\n`;\n    mensagem += `üìç **Endere√ßo:** ${clienteInfo.endereco}\\n\\n`;\n    mensagem += `Pedido realizado via Pizzaria IA üçï`;\n\n    const mensagemCodificada = encodeURIComponent(mensagem);\n    const link = `https://wa.me/${numeroLimpo}?text=${mensagemCodificada}`;\n    window.open(link, '_blank');\n  };\n\n  return (\n    <div style={styles.container}>\n      {/* Formul√°rio de Informa√ß√µes do Cliente */}\n      {showClienteForm && (\n        <form onSubmit={handleClienteSubmit} style={styles.clienteForm}>\n          <h4 style={styles.formTitle}>üë§ Cadastro do Cliente</h4>\n          <input\n            type=\"text\"\n            placeholder=\"Nome completo\"\n            value={clienteInfo.nome}\n            onChange={(e) => setClienteInfo({ ...clienteInfo, nome: e.target.value })}\n            style={styles.input}\n            required\n          />\n          <input\n            type=\"tel\"\n            placeholder=\"Telefone (ex: 11 99999-9999)\"\n            value={clienteInfo.telefone}\n            onChange={(e) => setClienteInfo({ ...clienteInfo, telefone: e.target.value })}\n            style={styles.input}\n            required\n          />\n          <input\n            type=\"email\"\n            placeholder=\"E-mail (opcional)\"\n            value={clienteInfo.email}\n            onChange={(e) => setClienteInfo({ ...clienteInfo, email: e.target.value })}\n            style={styles.input}\n          />\n          <textarea\n            placeholder=\"Endere√ßo completo para entrega\"\n            value={clienteInfo.endereco}\n            onChange={(e) => setClienteInfo({ ...clienteInfo, endereco: e.target.value })}\n            style={{ ...styles.input, minHeight: '80px', resize: 'vertical' as const }}\n            required\n          />\n          <button type=\"submit\" style={styles.confirmButton}>\n            ‚úÖ Come√ßar a Pedir\n          </button>\n        </form>\n      )}\n\n      {/* √Årea de Chat */}\n      {!showClienteForm && (\n        <>\n          <div style={styles.chatArea}>\n            {messages.map((msg) => (\n              <ChatMessage\n                key={msg.id}\n                message={msg}\n                onOptionClick={handleOptionClick}\n                clienteInfo={clienteInfo}\n                totalItens={totalItens}\n              />\n            ))}\n            {loading && (\n              <div style={styles.loading}>\n                <div style={styles.loadingSpinner}></div>\n                Pensando...\n              </div>\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Se√ß√£o do Carrinho */}\n          {showCarrinho && (\n            <div style={styles.carrinhoArea}>\n              <h4 style={styles.carrinhoTitulo}>\n                üõí Seu Carrinho {totalItens > 0 && `(${totalItens} itens)`}\n              </h4>\n              \n              {carrinho.length === 0 ? (\n                <div style={styles.carrinhoVazio}>\n                  <p>Seu carrinho est√° vazio</p>\n                  <button \n                    onClick={() => setShowCarrinho(false)}\n                    style={styles.continuarButton}\n                  >\n                    üçï Ver Card√°pio\n                  </button>\n                </div>\n              ) : (\n                <>\n                  {carrinho.map(item => (\n                    <div key={item.id} style={styles.itemCarrinho}>\n                      <div style={styles.itemInfo}>\n                        <strong>{item.nome}</strong>\n                        <br />\n                        <small>Pre√ßo Base: R$ {item.precoBase.toFixed(2)}</small>\n                        {item.extras.length > 0 && (\n                          <small><br />Extras: {item.extras.join(', ')} (+R$ {item.extras.reduce((sum, e) => sum + (EXTRAS[e as keyof typeof EXTRAS] || 0), 0).toFixed(2)})</small>\n                        )}\n                        <br />\n                        <div style={styles.quantidadeContainer}>\n                          <button \n                            onClick={() => handleAtualizarQuantidade(item.id, item.quantidade - 1)}\n                            style={styles.quantidadeButton}\n                          >\n                            -\n                          </button>\n                          <span style={styles.quantidadeText}>{item.quantidade}</span>\n                          <button \n                            onClick={() => handleAtualizarQuantidade(item.id, item.quantidade + 1)}\n                            style={styles.quantidadeButton}\n                          >\n                            +\n                          </button>\n                        </div>\n                        <strong>Total: R$ {(item.precoTotal * item.quantidade).toFixed(2)}</strong>\n                      </div>\n                      <button \n                        onClick={() => handleRemoverDoCarrinho(item.id)} \n                        style={styles.removerButton}\n                      >\n                        üóëÔ∏è\n                      </button>\n                    </div>\n                  ))}\n                  <div style={styles.totalCarrinho}>\n                    <strong>Total do Pedido: R$ {totalCarrinho.toFixed(2)}</strong>\n                  </div>\n                  <div style={styles.carrinhoBotoes}>\n                    <button \n                      onClick={handleWhatsAppClick} \n                      style={styles.whatsappButton}\n                    >\n                      üì± Finalizar no WhatsApp\n                    </button>\n                    <button \n                      onClick={() => handleOptionClick('limpar_carrinho')} \n                      style={styles.limparButton}\n                    >\n                      üóëÔ∏è Limpar Carrinho\n                    </button>\n                    <button \n                      onClick={() => setShowCarrinho(false)} \n                      style={styles.voltarButton}\n                    >\n                      ‚Üê Continuar Comprando\n                    </button>\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n\n          {/* Bot√£o flutuante do carrinho */}\n          {!showCarrinho && carrinho.length > 0 && (\n            <button \n              onClick={() => setShowCarrinho(true)} \n              style={styles.floatingCarrinhoButton}\n            >\n              üõí Ver Carrinho ({totalItens}) - R$ {totalCarrinho.toFixed(2)}\n            </button>\n          )}\n\n          {/* Modal para selecionar extras */}\n          {pizzaToAdd && (\n            <div style={styles.modalOverlay}>\n              <div style={styles.modalContent}>\n                <h4 style={styles.modalTitulo}>\n                  üçï Adicionar: {pizzaToAdd.nome}\n                </h4>\n                <p style={styles.modalPreco}>\n                  Pre√ßo Base: R$ {pizzaToAdd.preco.toFixed(2)}\n                </p>\n                \n                <div style={styles.quantidadeSection}>\n                  <label style={styles.quantidadeLabel}>Quantidade:</label>\n                  <div style={styles.quantidadeContainer}>\n                    <button \n                      onClick={() => setQuantidade(Math.max(1, quantidade - 1))}\n                      style={styles.quantidadeButton}\n                    >\n                      -\n                    </button>\n                    <span style={styles.quantidadeText}>{quantidade}</span>\n                    <button \n                      onClick={() => setQuantidade(quantidade + 1)}\n                      style={styles.quantidadeButton}\n                    >\n                      +\n                    </button>\n                  </div>\n                </div>\n\n                <div style={styles.extrasSection}>\n                  <h5 style={styles.extrasTitulo}>üéÅ Extras (opcional):</h5>\n                  {Object.entries(EXTRAS).map(([extra, preco]) => (\n                    <label key={extra} style={styles.extraLabel}>\n                      <input\n                        type=\"checkbox\"\n                        checked={extrasSelecionados.includes(extra)}\n                        onChange={(e) => {\n                          if (e.target.checked) {\n                            setExtrasSelecionados(prev => [...prev, extra]);\n                          } else {\n                            setExtrasSelecionados(prev => prev.filter(e => e !== extra));\n                          }\n                        }}\n                        style={styles.checkbox}\n                      /> \n                      {extra} (+R$ {preco.toFixed(2)})\n                    </label>\n                  ))}\n                </div>\n                \n                <div style={styles.modalTotal}>\n                  <strong>\n                    Total: R$ {(\n                      (pizzaToAdd.preco + extrasSelecionados.reduce((sum, e) => sum + (EXTRAS[e as keyof typeof EXTRAS] || 0), 0)) * \n                      quantidade\n                    ).toFixed(2)}\n                  </strong>\n                </div>\n\n                <div style={styles.modalButtons}>\n                  <button \n                    onClick={() => setPizzaToAdd(null)} \n                    style={styles.cancelarButton}\n                  >\n                    Cancelar\n                  </button>\n                  <button \n                    onClick={handleAdicionarAoCarrinho} \n                    style={styles.adicionarButton}\n                  >\n                    üõí Adicionar ao Carrinho\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Input de Mensagem */}\n          {!showCarrinho && (\n            <div style={styles.inputArea}>\n              <input\n                type=\"text\"\n                value={inputText}\n                onChange={(e) => setInputText(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                placeholder=\"Digite sua mensagem...\"\n                style={styles.input}\n                disabled={loading}\n              />\n              <button \n                onClick={handleSendMessage} \n                style={styles.sendButton}\n                disabled={loading}\n              >\n                {loading ? '‚è≥' : 'üì§'}\n              </button>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\n// --- Componente para exibir uma mensagem no chat ---\nconst ChatMessage: React.FC<{ \n  message: Message; \n  onOptionClick: (action: string) => void; \n  clienteInfo: ClienteInfo;\n  totalItens: number;\n}> = ({ message, onOptionClick, clienteInfo, totalItens }) => {\n  const isUser = message.type === 'user';\n  const isPedido = message.type === 'pedido';\n  const isBot = message.type === 'bot';\n  const isInfo = message.type === 'info';\n  const isCardapio = message.type === 'cardapio';\n  const isAction = message.type === 'action';\n\n  let bgColor = '#f8f9fa';\n  let align = 'flex-start';\n  let textColor = '#333';\n  let border = 'none';\n\n  if (isUser) {\n    bgColor = 'linear-gradient(135deg, #d32f2f, #b71c1c)';\n    align = 'flex-end';\n    textColor = 'white';\n  } else if (isPedido) {\n    bgColor = 'linear-gradient(135deg, #4caf50, #388e3c)';\n    textColor = 'white';\n  } else if (isInfo) {\n    bgColor = 'linear-gradient(135deg, #2196f3, #1976d2)';\n    textColor = 'white';\n  } else if (isBot) {\n    bgColor = '#ffffff';\n    border = '1px solid #e0e0e0';\n  } else if (isCardapio) {\n    bgColor = '#fff3e0';\n    border = '1px solid #ffd54f';\n  }\n\n  // Formatar texto com quebras de linha\n  const formatText = (text: string = '') => {\n    return text.split('\\n').map((line, index) => (\n      <span key={index}>\n        {line}\n        <br />\n      </span>\n    ));\n  };\n\n  // Fun√ß√£o para WhatsApp\n  const handleWhatsAppClick = () => {\n    const numeroLimpo = NUMERO_ATENDIMENTO.replace(/\\D/g, '');\n    const mensagem = `Ol√° ${encodeURIComponent(clienteInfo.nome)}, seu pedido est√° pronto! Por favor, confirme o recebimento.`;\n    const mensagemCodificada = encodeURIComponent(mensagem);\n    const link = `https://wa.me/${numeroLimpo}?text=${mensagemCodificada}`;\n    window.open(link, '_blank');\n  };\n\n  if (isCardapio && message.pizza) {\n    return (\n      <div style={{ display: 'flex', justifyContent: align, marginBottom: '12px' }}>\n        <div\n          style={{\n            padding: '12px 16px',\n            borderRadius: '16px',\n            background: bgColor,\n            border: border,\n            color: textColor,\n            maxWidth: '85%',\n            wordWrap: 'break-word' as const,\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n          }}\n        >\n          <strong style={{ fontSize: '16px', display: 'block', marginBottom: '4px' }}>\n            {message.pizza.nome}\n          </strong>\n          <div style={{ fontSize: '14px', color: isCardapio ? '#666' : 'inherit', marginBottom: '8px' }}>\n            {message.pizza.ingredientes}\n          </div>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <strong style={{ color: '#d32f2f', fontSize: '16px' }}>\n              R$ {message.pizza.preco.toFixed(2)}\n            </strong>\n            {message.options && message.options.length > 0 && (\n              <button\n                onClick={() => onOptionClick(message.options![0].action)}\n                style={{\n                  padding: '6px 12px',\n                  borderRadius: '20px',\n                  border: '1px solid #d32f2f',\n                  backgroundColor: 'white',\n                  color: '#d32f2f',\n                  cursor: 'pointer',\n                  fontSize: '12px',\n                  fontWeight: 'bold' as const,\n                  transition: 'all 0.2s ease',\n                }}\n                onMouseOver={(e) => {\n                  e.currentTarget.style.backgroundColor = '#d32f2f';\n                  e.currentTarget.style.color = 'white';\n                }}\n                onMouseOut={(e) => {\n                  e.currentTarget.style.backgroundColor = 'white';\n                  e.currentTarget.style.color = '#d32f2f';\n                }}\n              >\n                {message.options[0].text}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (isAction && message.options) {\n    return (\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'center', \n        gap: '8px', \n        marginBottom: '12px', \n        flexWrap: 'wrap' as const \n      }}>\n        {message.options.map((opt, index) => (\n          <button\n            key={index}\n            onClick={() => onOptionClick(opt.action)}\n            style={{\n              padding: '8px 16px',\n              borderRadius: '20px',\n              border: '1px solid #d32f2f',\n              backgroundColor: 'white',\n              color: '#d32f2f',\n              cursor: 'pointer',\n              fontSize: '14px',\n              fontWeight: '500' as const,\n              transition: 'all 0.2s ease',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n            }}\n            onMouseOver={(e) => {\n              e.currentTarget.style.backgroundColor = '#d32f2f';\n              e.currentTarget.style.color = 'white';\n              e.currentTarget.style.transform = 'translateY(-1px)';\n            }}\n            onMouseOut={(e) => {\n              e.currentTarget.style.backgroundColor = 'white';\n              e.currentTarget.style.color = '#d32f2f';\n              e.currentTarget.style.transform = 'translateY(0)';\n            }}\n          >\n            {opt.text}\n          </button>\n        ))}\n      </div>\n    );\n  }\n\n  // Mensagem com bot√£o do WhatsApp\n  let conteudoMensagem: React.ReactNode = formatText(message.text);\n\n  if (isInfo && message.text === \"üì± Clique para confirmar via WhatsApp\") {\n    conteudoMensagem = (\n      <button\n        onClick={handleWhatsAppClick}\n        style={{\n          padding: '10px 16px',\n          borderRadius: '20px',\n          border: '1px solid #25D366',\n          backgroundColor: '#25D366',\n          color: 'white',\n          cursor: 'pointer',\n          fontSize: '14px',\n          fontWeight: 'bold' as const,\n          transition: 'all 0.2s ease',\n          boxShadow: '0 2px 8px rgba(37, 211, 102, 0.3)',\n        }}\n        onMouseOver={(e) => {\n          e.currentTarget.style.backgroundColor = '#128C7E';\n          e.currentTarget.style.transform = 'translateY(-1px)';\n        }}\n        onMouseOut={(e) => {\n          e.currentTarget.style.backgroundColor = '#25D366';\n          e.currentTarget.style.transform = 'translateY(0)';\n        }}\n      >\n        üì± Confirmar Pedido no WhatsApp\n      </button>\n    );\n  }\n\n  return (\n    <div style={{ display: 'flex', justifyContent: align, marginBottom: '12px' }}>\n      <div\n        style={{\n          padding: '12px 16px',\n          borderRadius: '16px',\n          background: bgColor,\n          border: border,\n          color: textColor,\n          maxWidth: '85%',\n          wordWrap: 'break-word' as const,\n          boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n          lineHeight: '1.4',\n        }}\n      >\n        {conteudoMensagem}\n      </div>\n    </div>\n  );\n};\n\n// --- Estilos CSS em JS ---\nconst styles = {\n  container: {\n    fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif\",\n    padding: '0',\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column' as const,\n    backgroundColor: 'transparent',\n    position: 'relative' as const,\n  },\n  \n  clienteForm: {\n    padding: '24px',\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    color: 'white',\n    borderRadius: '0',\n    margin: '0',\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '16px',\n    height: '100%',\n    justifyContent: 'center',\n  },\n  \n  formTitle: {\n    margin: '0 0 24px 0',\n    fontSize: '24px',\n    fontWeight: 'bold' as const,\n    textAlign: 'center' as const,\n    textShadow: '0 2px 4px rgba(0,0,0,0.2)',\n  },\n  \n  input: {\n    padding: '12px 16px',\n    borderRadius: '12px',\n    border: '1px solid rgba(255,255,255,0.2)',\n    backgroundColor: 'rgba(255,255,255,0.1)',\n    color: 'white',\n    fontSize: '16px',\n    backdropFilter: 'blur(10px)',\n    transition: 'all 0.2s ease',\n  },\n  \n  confirmButton: {\n    padding: '14px',\n    background: 'linear-gradient(135deg, #4caf50, #45a049)',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    fontSize: '16px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n    transition: 'all 0.2s ease',\n    boxShadow: '0 4px 12px rgba(76, 175, 80, 0.3)',\n  },\n  \n  chatArea: {\n    flex: 1,\n    overflowY: 'auto' as const,\n    padding: '20px',\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '12px',\n    background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)',\n  },\n  \n  loading: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '12px',\n    padding: '12px 16px',\n    color: '#666',\n    fontSize: '14px',\n    fontStyle: 'italic',\n    justifyContent: 'center',\n  },\n  \n  loadingSpinner: {\n    width: '20px',\n    height: '20px',\n    border: '2px solid #f3f3f3',\n    borderTop: '2px solid #d32f2f',\n    borderRadius: '50%',\n    animation: 'spin 1s linear infinite',\n  },\n  \n  carrinhoArea: {\n    padding: '20px',\n    backgroundColor: 'white',\n    borderRadius: '16px',\n    border: '1px solid #e0e0e0',\n    margin: '16px',\n    boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n    maxHeight: '400px',\n    overflowY: 'auto' as const,\n  },\n  \n  carrinhoTitulo: {\n    margin: '0 0 16px 0',\n    fontSize: '18px',\n    fontWeight: 'bold' as const,\n    color: '#333',\n    textAlign: 'center' as const,\n  },\n  \n  carrinhoVazio: {\n    textAlign: 'center' as const,\n    padding: '20px',\n    color: '#666',\n  },\n  \n  itemCarrinho: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'flex-start',\n    padding: '12px 0',\n    borderBottom: '1px solid #f0f0f0',\n    gap: '12px',\n  },\n  \n  itemInfo: {\n    flex: 1,\n    fontSize: '14px',\n  },\n  \n  quantidadeContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    margin: '8px 0',\n  },\n  \n  quantidadeButton: {\n    width: '28px',\n    height: '28px',\n    borderRadius: '50%',\n    border: '1px solid #d32f2f',\n    backgroundColor: 'white',\n    color: '#d32f2f',\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '14px',\n    fontWeight: 'bold' as const,\n  },\n  \n  quantidadeText: {\n    padding: '0 12px',\n    fontWeight: 'bold' as const,\n  },\n  \n  removerButton: {\n    padding: '8px',\n    backgroundColor: 'transparent',\n    color: '#ff4444',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '16px',\n    transition: 'all 0.2s ease',\n  },\n  \n  totalCarrinho: {\n    textAlign: 'center' as const,\n    padding: '16px 0',\n    fontWeight: 'bold' as const,\n    borderTop: '2px solid #e0e0e0',\n    marginTop: '12px',\n    fontSize: '18px',\n    color: '#d32f2f',\n  },\n  \n  carrinhoBotoes: {\n    display: 'flex',\n    flexDirection: 'column' as const,\n    gap: '8px',\n  },\n  \n  whatsappButton: {\n    padding: '12px',\n    backgroundColor: '#25D366',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n    fontSize: '14px',\n    transition: 'all 0.2s ease',\n  },\n  \n  limparButton: {\n    padding: '10px',\n    backgroundColor: '#ff4444',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '14px',\n  },\n  \n  voltarButton: {\n    padding: '10px',\n    backgroundColor: '#666',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    fontSize: '14px',\n  },\n  \n  continuarButton: {\n    padding: '12px 24px',\n    backgroundColor: '#d32f2f',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n    marginTop: '12px',\n  },\n  \n  floatingCarrinhoButton: {\n    position: 'fixed' as const,\n    bottom: '80px',\n    right: '20px',\n    padding: '12px 16px',\n    backgroundColor: '#d32f2f',\n    color: 'white',\n    border: 'none',\n    borderRadius: '25px',\n    cursor: 'pointer',\n    fontWeight: 'bold' as const,\n    boxShadow: '0 4px 12px rgba(211, 47, 47, 0.3)',\n    zIndex: 1000,\n    fontSize: '14px',\n    transition: 'all 0.2s ease',\n  },\n  \n  modalOverlay: {\n    position: 'fixed' as const,\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 10000,\n    padding: '20px',\n  },\n  \n  modalContent: {\n    backgroundColor: 'white',\n    padding: '24px',\n    borderRadius: '20px',\n    width: '90%',\n    maxWidth: '400px',\n    maxHeight: '80vh',\n    overflowY: 'auto' as const,\n    boxShadow: '0 20px 60px rgba(0,0,0,0.3)',\n  },\n  \n  modalTitulo: {\n    margin: '0 0 12px 0',\n    fontSize: '20px',\n    fontWeight: 'bold' as const,\n    color: '#333',\n    textAlign: 'center' as const,\n  },\n  \n  modalPreco: {\n    textAlign: 'center' as const,\n    fontSize: '18px',\n    color: '#d32f2f',\n    fontWeight: 'bold' as const,\n    marginBottom: '16px',\n  },\n  \n  quantidadeSection: {\n    marginBottom: '16px',\n    textAlign: 'center' as const,\n  },\n  \n  quantidadeLabel: {\n    display: 'block',\n    marginBottom: '8px',\n    fontWeight: 'bold' as const,\n    color: '#333',\n  },\n  \n  extrasSection: {\n    marginBottom: '16px',\n  },\n  \n  extrasTitulo: {\n    margin: '0 0 12px 0',\n    fontSize: '16px',\n    fontWeight: 'bold' as const,\n    color: '#333',\n  },\n  \n  extraLabel: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    marginBottom: '8px',\n    padding: '8px',\n    borderRadius: '8px',\n    backgroundColor: '#f8f9fa',\n    cursor: 'pointer',\n    transition: 'all 0.2s ease',\n  },\n  \n  checkbox: {\n    margin: 0,\n  },\n  \n  modalTotal: {\n    textAlign: 'center' as const,\n    padding: '16px 0',\n    borderTop: '1px solid #e0e0e0',\n    marginTop: '16px',\n    fontSize: '18px',\n    fontWeight: 'bold' as const,\n    color: '#d32f2f',\n  },\n  \n  modalButtons: {\n    display: 'flex',\n    gap: '12px',\n    marginTop: '16px',\n  },\n  \n  cancelarButton: {\n    flex: 1,\n    padding: '12px',\n    backgroundColor: '#666',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    fontSize: '14px',\n  },\n  \n  adicionarButton: {\n    flex: 2,\n    padding: '12px',\n    backgroundColor: '#4caf50',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    cursor: 'pointer',\n    fontSize: '14px',\n    fontWeight: 'bold' as const,\n  },\n  \n  inputArea: {\n    display: 'flex',\n    gap: '8px',\n    padding: '16px',\n    backgroundColor: 'white',\n    borderTop: '1px solid #e0e0e0',\n  },\n  \n  sendButton: {\n    padding: '12px 16px',\n    background: 'linear-gradient(135deg, #d32f2f, #b71c1c)',\n    color: 'white',\n    border: 'none',\n    borderRadius: '12px',\n    fontSize: '16px',\n    cursor: 'pointer',\n    minWidth: '60px',\n    transition: 'all 0.2s ease',\n  },\n};\n\n// Adicionar estilos CSS globais\nconst styleSheet = document.styleSheets[0];\nstyleSheet.insertRule(`\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`, styleSheet.cssRules.length);\n\nexport default PizzaRecommender;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}